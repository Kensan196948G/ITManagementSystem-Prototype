# レポート機能のトラブルシューティング

**注意**: Microsoft認証（Azure AD認証）は廃止されました。このドキュメントでは新しいレポート機能のトラブルシューティングについて説明します。

## レポート生成に関する問題

以下のような問題が発生する場合があります：

### 1. レポートが生成されない

問題の原因:
- データアクセス権限が不足している
- バックエンドサービスが正常に動作していない
- クライアント側のブラウザキャッシュの問題

解決方法:
1. 適切な権限を持つユーザーアカウントでログインしていることを確認する
2. バックエンドサービスの状態を確認する（システム監視ページを参照）
3. ブラウザのキャッシュをクリアし、ページを再読み込みする

### 2. レポートが表示されるが内容が空または不完全

問題の原因:
- レポート対象期間のデータが不足している
- データ集計処理の中断または失敗
- 選択したレポート種類に対するデータソースの設定ミス

解決方法:
1. 対象期間に十分なデータがあることを確認する
2. 別の期間または別のレポート種類を試してみる
3. システムログを確認して処理エラーの有無を確認する
4. 管理者に連絡して、データソース設定を確認してもらう

### 3. メール配信されない

問題の原因:
- メール配信設定が有効になっていない
- メールアドレスが正しく設定されていない
- メールサーバーの問題

解決方法:
1. 設定ページで「レポートをメールでも受け取る」オプションが有効になっていることを確認する
2. プロファイル設定で正しいメールアドレスが設定されていることを確認する
3. スパムフォルダをチェックする
4. システム管理者にメールサーバーの状態を確認してもらう

## レポート表示の問題

### 1. グラフやチャートが表示されない

問題の原因:
- ブラウザの互換性の問題
- JavaScriptの実行エラー
- データ形式の不一致

解決方法:
1. 別のブラウザ（Chrome, Firefox, Edge）で試してみる
2. ブラウザのJavaScriptコンソールでエラーを確認する
3. ブラウザを最新バージョンに更新する

### 2. PDFダウンロードができない

問題の原因:
- PDF生成サービスの問題
- 大きすぎるレポートデータ
- ブラウザのポップアップブロック

解決方法:
1. ポップアップブロックを無効にする
2. より短い期間または少ないデータ量のレポートを試す
3. 別の形式（例：CSVなど）でのエクスポートを試みる

### 3. レポートのパフォーマンスが遅い

問題の原因:
- 大量のデータ処理
- クライアント端末のリソース不足
- ネットワーク接続の問題

解決方法:
1. 期間を短くしてレポートを生成する
2. フィルターを適用して表示データを減らす
3. より良いネットワーク接続で試す
4. 端末のリソースを確認し、他のアプリケーションを閉じてみる

## カスタムレポートの問題

### 1. カスタム設定が保存されない

問題の原因:
- ローカルストレージの問題
- セッションのタイムアウト
- 権限の問題

解決方法:
1. 再度ログインする
2. ブラウザのプライベートモードを無効にする
3. ブラウザのローカルストレージをクリアしてから再試行する

### 2. 設定した頻度でレポートが生成されない

問題の原因:
- スケジューラサービスの問題
- タイムゾーン設定の不一致
- システムの一時的な障害

解決方法:
1. 設定ページでタイムゾーンが正しく設定されていることを確認する
2. 手動でレポートを一度生成してみる
3. システム管理者にスケジューラサービスの状態を確認してもらう

## その他の問題が発生した場合

1. アプリケーションを再起動する
2. 別のブラウザで試す
3. バックエンドログ（logs/backend.log）を確認する
4. フロントエンドログ（logs/frontend.log）を確認する
5. システム管理者に問い合わせる
