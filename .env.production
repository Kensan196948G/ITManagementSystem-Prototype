# 本番環境専用設定

NODE_ENV=production
APP_DEBUG=false
APP_LOG_LEVEL=warn

# 本番用データベース設定
DB_HOST=${PROD_DB_HOST}
DB_PORT=${PROD_DB_PORT:-5432}
DB_NAME=${PROD_DB_NAME}
DB_USERNAME=${PROD_DB_USER}
DB_PASSWORD=${PROD_DB_PASSWORD}
DB_SSL=true
DB_SSL_REJECT_UNAUTHORIZED=true

# 本番用接続プール設定
DB_POOL_MIN=10
DB_POOL_MAX=50
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_ACQUIRE_TIMEOUT=60000

# 本番用サーバー設定
SERVER_HOST=0.0.0.0
SERVER_PORT=${PORT:-3000}
SERVER_HTTPS_ENABLED=true
SERVER_SSL_CERT_PATH=/etc/ssl/certs/server.crt
SERVER_SSL_KEY_PATH=/etc/ssl/private/server.key
SERVER_CORS_ORIGIN=${ALLOWED_ORIGINS}
SERVER_REQUEST_TIMEOUT=15000

# 本番用セキュリティ設定
JWT_SECRET=${JWT_SECRET_KEY}
SESSION_SECRET=${SESSION_SECRET_KEY}
CSRF_SECRET=${CSRF_SECRET_KEY}
BCRYPT_ROUNDS=14

# 本番用セキュリティヘッダー
SECURITY_HSTS_ENABLED=true
SECURITY_HSTS_MAX_AGE=31536000
SECURITY_CSP_ENABLED=true
SECURITY_XSS_PROTECTION=true
SECURITY_FRAME_OPTIONS=DENY
SECURITY_CONTENT_TYPE_OPTIONS=true

# 本番用ログ設定
LOG_CONSOLE_ENABLED=false
LOG_FILE_ENABLED=true
LOG_LEVEL=warn
LOG_FILE_PATH=/var/log/itsm/app.log
LOG_ERROR_FILE=/var/log/itsm/error.log
LOG_FILE_MAX_SIZE=100m
LOG_FILE_MAX_FILES=30

# 本番用メール設定
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=${SMTP_PORT:-587}
SMTP_USER=${SMTP_USER}
SMTP_PASS=${SMTP_PASSWORD}
SMTP_SECURE=true
SMTP_FROM=${FROM_EMAIL}

# 本番用Redis設定
REDIS_HOST=${REDIS_HOST}
REDIS_PORT=${REDIS_PORT:-6379}
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_TIMEOUT=10000

# 本番用ストレージ設定
STORAGE_TYPE=aws
STORAGE_AWS_REGION=${AWS_REGION}
STORAGE_AWS_BUCKET=${S3_BUCKET}
STORAGE_AWS_ACCESS_KEY=${AWS_ACCESS_KEY_ID}
STORAGE_AWS_SECRET_KEY=${AWS_SECRET_ACCESS_KEY}

# 本番用機能フラグ
FEATURE_USER_REGISTRATION=true
FEATURE_EMAIL_VERIFICATION=true
FEATURE_TWO_FACTOR_AUTH=true
FEATURE_AUDIT_LOG=true
FEATURE_NOTIFICATIONS=true
FEATURE_ANALYTICS=true
FEATURE_AUTO_BACKUP=true

# 本番用パフォーマンス設定
PROD_MINIFY=true
PROD_GZIP=true
PROD_CLUSTER_ENABLED=true
PROD_CLUSTER_WORKERS=0

# 本番用監視設定
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_ENABLED=true

# 本番用レート制限設定
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESS=false

# 本番用バックアップ設定
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE="0 2 * * *"
DB_BACKUP_RETENTION_DAYS=30
DB_BACKUP_PATH=/var/backups/itsm

# 本番用通知設定
NOTIFICATION_SLACK_WEBHOOK=${SLACK_WEBHOOK_URL}
NOTIFICATION_TEAMS_WEBHOOK=${TEAMS_WEBHOOK_URL}

# OAuth設定
OAUTH_GOOGLE_CLIENT_ID=${GOOGLE_OAUTH_CLIENT_ID}
OAUTH_GOOGLE_CLIENT_SECRET=${GOOGLE_OAUTH_CLIENT_SECRET}
OAUTH_MICROSOFT_CLIENT_ID=${MICROSOFT_OAUTH_CLIENT_ID}
OAUTH_MICROSOFT_CLIENT_SECRET=${MICROSOFT_OAUTH_CLIENT_SECRET}