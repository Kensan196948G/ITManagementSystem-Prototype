{"ast":null,"code":"import React,{useState}from'react';import{UsersIcon,ArrowPathIcon,PlusIcon,PencilIcon,TrashIcon,CheckCircleIcon,XCircleIcon,UserPlusIcon,KeyIcon}from'@heroicons/react/24/outline';import{useAuth}from'../contexts/AuthContext';// ユーザーテーブルのカラム定義\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const columns=[{id:'name',name:'氏名'},{id:'email',name:'メールアドレス'},{id:'department',name:'部署'},{id:'role',name:'ロール'},{id:'status',name:'状態'},{id:'auth_type',name:'認証タイプ'},{id:'actions',name:'アクション'}];// ユーザーロールのバッジコンポーネント\nconst RoleBadge=_ref=>{let{role}=_ref;let color='bg-secondary-100 text-secondary-800';if(role==='グローバル管理者'){color='bg-danger-100 text-danger-800';}else if(role==='一般ユーザー'){color='bg-primary-100 text-primary-800';}else if(role==='ゲスト'){color='bg-warning-100 text-warning-800';}return/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${color}`,children:role});};// ユーザー追加/編集モーダル\nconst UserFormModal=_ref2=>{let{user,onClose,onSubmit}=_ref2;const isEdit=!!user;const[formData,setFormData]=useState({first_name:(user===null||user===void 0?void 0:user.first_name)||'',last_name:(user===null||user===void 0?void 0:user.last_name)||'',email:(user===null||user===void 0?void 0:user.email)||'',role:(user===null||user===void 0?void 0:user.role)||'一般ユーザー',department:(user===null||user===void 0?void 0:user.department)||'',auth_type:(user===null||user===void 0?void 0:user.auth_type)||'ローカル認証'});const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handleSubmit=e=>{e.preventDefault();onSubmit({id:(user===null||user===void 0?void 0:user.id)||Math.random().toString(36).substring(2,15),...formData,status:(user===null||user===void 0?void 0:user.status)||'アクティブ',permissions:(user===null||user===void 0?void 0:user.permissions)||['read']});};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-30 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity\",onClick:onClose,children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-secondary-900 opacity-50\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-block sm:align-middle sm:h-screen\",children:\"\\u200B\"}),/*#__PURE__*/_jsx(\"div\",{className:\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\",onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-secondary-900\",children:isEdit?'ユーザー編集':'ユーザー追加'}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-secondary-500\",children:isEdit?'ユーザー情報を更新します':'新しいユーザーを追加します'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"last_name\",className:\"block text-sm font-medium text-secondary-700\",children:\"\\u59D3\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"last_name\",id:\"last_name\",value:formData.last_name,onChange:handleChange,className:\"mt-1 form-input block w-full\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"first_name\",className:\"block text-sm font-medium text-secondary-700\",children:\"\\u540D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"first_name\",id:\"first_name\",value:formData.first_name,onChange:handleChange,className:\"mt-1 form-input block w-full\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-secondary-700\",children:\"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",value:formData.email,onChange:handleChange,className:\"mt-1 form-input block w-full\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"department\",className:\"block text-sm font-medium text-secondary-700\",children:\"\\u90E8\\u7F72\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"department\",id:\"department\",value:formData.department,onChange:handleChange,className:\"mt-1 form-input block w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"role\",className:\"block text-sm font-medium text-secondary-700\",children:\"\\u30ED\\u30FC\\u30EB\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"role\",id:\"role\",value:formData.role,onChange:handleChange,className:\"mt-1 form-select block w-full\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\u30B0\\u30ED\\u30FC\\u30D0\\u30EB\\u7BA1\\u7406\\u8005\",children:\"\\u30B0\\u30ED\\u30FC\\u30D0\\u30EB\\u7BA1\\u7406\\u8005\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u4E00\\u822C\\u30E6\\u30FC\\u30B6\\u30FC\",children:\"\\u4E00\\u822C\\u30E6\\u30FC\\u30B6\\u30FC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u30B2\\u30B9\\u30C8\",children:\"\\u30B2\\u30B9\\u30C8\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"auth_type\",className:\"block text-sm font-medium text-secondary-700\",children:\"\\u8A8D\\u8A3C\\u30BF\\u30A4\\u30D7\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"auth_type\",id:\"auth_type\",value:formData.auth_type,onChange:handleChange,className:\"mt-1 form-select block w-full\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\u30ED\\u30FC\\u30AB\\u30EB\\u8A8D\\u8A3C\",children:\"\\u30ED\\u30FC\\u30AB\\u30EB\\u8A8D\\u8A3C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Microsoft 365\",children:\"Microsoft 365\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HENGEOINE\",children:\"HENGEOINE\\uFF08\\u30D5\\u30A7\\u30C7\\u30EC\\u30FC\\u30B7\\u30E7\\u30F3\\u8A8D\\u8A3C\\uFF09\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-secondary-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-full sm:w-auto sm:ml-3\",children:isEdit?'更新':'追加'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn border border-secondary-300 bg-white text-secondary-700 hover:bg-secondary-50 mt-3 sm:mt-0 w-full sm:w-auto\",onClick:onClose,children:\"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"})]})]})})]})});};// 権限設定モーダル\nconst PermissionsModal=_ref3=>{let{user,onClose,onSubmit}=_ref3;const[permissions,setPermissions]=useState(user.permissions||[]);const handlePermissionChange=perm=>{if(permissions.includes(perm)){setPermissions(permissions.filter(p=>p!==perm));}else{setPermissions([...permissions,perm]);}};const handleSubmit=e=>{e.preventDefault();onSubmit({...user,permissions});};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-30 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity\",onClick:onClose,children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-secondary-900 opacity-50\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-block sm:align-middle sm:h-screen\",children:\"\\u200B\"}),/*#__PURE__*/_jsx(\"div\",{className:\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\",onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-secondary-900\",children:\"\\u6A29\\u9650\\u8A2D\\u5B9A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-sm text-secondary-500\",children:[`${user.last_name} ${user.first_name}`,\"\\u306E\\u6A29\\u9650\\u3092\\u8A2D\\u5B9A\\u3057\\u307E\\u3059\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 border border-secondary-200 rounded-md\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-secondary-900\",children:\"\\u7BA1\\u7406\\u6A29\\u9650\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-secondary-500\",children:\"\\u3059\\u3079\\u3066\\u306E\\u7BA1\\u7406\\u6A5F\\u80FD\\u3078\\u306E\\u30A2\\u30AF\\u30BB\\u30B9\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"admin\",checked:permissions.includes('admin'),onChange:()=>handlePermissionChange('admin'),className:\"form-checkbox h-4 w-4 text-primary-600\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 border border-secondary-200 rounded-md\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-secondary-900\",children:\"\\u8AAD\\u307F\\u53D6\\u308A\\u6A29\\u9650\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-secondary-500\",children:\"\\u30C0\\u30C3\\u30B7\\u30E5\\u30DC\\u30FC\\u30C9\\u3068\\u60C5\\u5831\\u306E\\u95B2\\u89A7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"read\",checked:permissions.includes('read'),onChange:()=>handlePermissionChange('read'),className:\"form-checkbox h-4 w-4 text-primary-600\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 border border-secondary-200 rounded-md\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-secondary-900\",children:\"\\u66F8\\u304D\\u8FBC\\u307F\\u6A29\\u9650\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-secondary-500\",children:\"\\u30C7\\u30FC\\u30BF\\u306E\\u66F4\\u65B0\\u3068\\u5909\\u66F4\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"write\",checked:permissions.includes('write'),onChange:()=>handlePermissionChange('write'),className:\"form-checkbox h-4 w-4 text-primary-600\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 border border-secondary-200 rounded-md\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-secondary-900\",children:\"API\\u7BA1\\u7406\\u6A29\\u9650\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-secondary-500\",children:\"API\\u30D1\\u30FC\\u30DF\\u30C3\\u30B7\\u30E7\\u30F3\\u7BA1\\u7406\\u6A5F\\u80FD\\u3078\\u306E\\u30A2\\u30AF\\u30BB\\u30B9\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"api_management\",checked:permissions.includes('api_management'),onChange:()=>handlePermissionChange('api_management'),className:\"form-checkbox h-4 w-4 text-primary-600\"})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-secondary-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-full sm:w-auto sm:ml-3\",children:\"\\u4FDD\\u5B58\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn border border-secondary-300 bg-white text-secondary-700 hover:bg-secondary-50 mt-3 sm:mt-0 w-full sm:w-auto\",onClick:onClose,children:\"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"})]})]})})]})});};// 削除確認モーダル\nconst DeleteConfirmModal=_ref4=>{let{user,onClose,onConfirm}=_ref4;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-30 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity\",onClick:onClose,children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-secondary-900 opacity-50\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-block sm:align-middle sm:h-screen\",children:\"\\u200B\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sm:flex sm:items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-danger-100 sm:mx-0 sm:h-10 sm:w-10\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-6 w-6 text-danger-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-secondary-900\",children:\"\\u30E6\\u30FC\\u30B6\\u30FC\\u306E\\u524A\\u9664\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-secondary-500\",children:`${user.last_name} ${user.first_name} を削除してもよろしいですか？この操作は取り消せません。`})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-secondary-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger w-full sm:w-auto sm:ml-3\",onClick:()=>onConfirm(user.id),children:\"\\u524A\\u9664\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn border border-secondary-300 bg-white text-secondary-700 hover:bg-secondary-50 mt-3 sm:mt-0 w-full sm:w-auto\",onClick:onClose,children:\"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"})]})]})]})});};const UserManagement=()=>{// AuthContextからユーザーロールを取得\nconst{USER_ROLES}=useAuth();// モックユーザー一覧（実際のアプリではAPIから取得します）\nconst[users,setUsers]=useState([{id:'1',first_name:'太郎',last_name:'山田',email:'taro.yamada@example.com',role:'グローバル管理者',department:'IT部門',permissions:['admin','read','write','api_management'],status:'アクティブ',auth_type:'ローカル認証'},{id:'2',first_name:'一郎',last_name:'鈴木',email:'ichiro.suzuki@example.com',role:'一般ユーザー',department:'IT部門',permissions:['read','write'],status:'アクティブ',auth_type:'Microsoft 365'},{id:'3',first_name:'次郎',last_name:'佐藤',email:'jiro.sato@example.com',role:'ゲスト',department:'営業部',permissions:['read'],status:'アクティブ',auth_type:'HENGEOINE'},{id:'4',first_name:'花子',last_name:'田中',email:'hanako.tanaka@example.com',role:'一般ユーザー',department:'総務部',permissions:['read','write'],status:'無効',auth_type:'ローカル認証'}]);// 検索とフィルタリング\nconst[searchTerm,setSearchTerm]=useState('');const[roleFilter,setRoleFilter]=useState('all');const[statusFilter,setStatusFilter]=useState('all');// モーダル状態管理\nconst[modalState,setModalState]=useState({type:null,// 'add', 'edit', 'delete', 'permissions'\nuser:null});// フィルタリング適用\nconst filteredUsers=users.filter(user=>{const nameMatch=`${user.last_name}${user.first_name}${user.email}`.toLowerCase().includes(searchTerm.toLowerCase());const roleMatch=roleFilter==='all'||user.role===roleFilter;const statusMatch=statusFilter==='all'||statusFilter==='active'&&user.status==='アクティブ'||statusFilter==='inactive'&&user.status==='無効';return nameMatch&&roleMatch&&statusMatch;});// ユーザー追加/編集の処理\nconst handleUserSubmit=userData=>{if(modalState.type==='add'){setUsers([...users,userData]);}else if(modalState.type==='edit'){setUsers(users.map(u=>u.id===userData.id?userData:u));}setModalState({type:null,user:null});};// 権限設定の保存処理\nconst handlePermissionsSave=userData=>{setUsers(users.map(u=>u.id===userData.id?userData:u));setModalState({type:null,user:null});};// ユーザー削除の処理\nconst handleDeleteUser=userId=>{setUsers(users.filter(u=>u.id!==userId));setModalState({type:null,user:null});};// ユーザー状態の切り替え\nconst toggleUserStatus=userId=>{setUsers(users.map(u=>{if(u.id===userId){return{...u,status:u.status==='アクティブ'?'無効':'アクティブ'};}return u;}));};// アクティブユーザー数を計算\nconst activeUsersCount=users.filter(user=>user.status==='アクティブ').length;// モーダルの表示\nconst renderModal=()=>{if(!modalState.type)return null;switch(modalState.type){case'add':return/*#__PURE__*/_jsx(UserFormModal,{onClose:()=>setModalState({type:null,user:null}),onSubmit:handleUserSubmit});case'edit':return/*#__PURE__*/_jsx(UserFormModal,{user:modalState.user,onClose:()=>setModalState({type:null,user:null}),onSubmit:handleUserSubmit});case'permissions':return/*#__PURE__*/_jsx(PermissionsModal,{user:modalState.user,onClose:()=>setModalState({type:null,user:null}),onSubmit:handlePermissionsSave});case'delete':return/*#__PURE__*/_jsx(DeleteConfirmModal,{user:modalState.user,onClose:()=>setModalState({type:null,user:null}),onConfirm:handleDeleteUser});default:return null;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 animate-fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-secondary-900\",children:\"\\u30E6\\u30FC\\u30B6\\u30FC\\u7BA1\\u7406\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-primary-600\",children:[/*#__PURE__*/_jsx(ArrowPathIcon,{className:\"h-5 w-5 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"\\u6700\\u7D42\\u66F4\\u65B0: 2025/03/13 18:25\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row md:items-center md:justify-between space-y-2 md:space-y-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 max-w-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-secondary-400\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u30E6\\u30FC\\u30B6\\u30FC\\u3092\\u691C\\u7D22...\",className:\"form-input pl-10\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:roleFilter,onChange:e=>setRoleFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"\\u3059\\u3079\\u3066\\u306E\\u30ED\\u30FC\\u30EB\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u30B0\\u30ED\\u30FC\\u30D0\\u30EB\\u7BA1\\u7406\\u8005\",children:\"\\u30B0\\u30ED\\u30FC\\u30D0\\u30EB\\u7BA1\\u7406\\u8005\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u4E00\\u822C\\u30E6\\u30FC\\u30B6\\u30FC\",children:\"\\u4E00\\u822C\\u30E6\\u30FC\\u30B6\\u30FC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u30B2\\u30B9\\u30C8\",children:\"\\u30B2\\u30B9\\u30C8\"})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:statusFilter,onChange:e=>setStatusFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"\\u3059\\u3079\\u3066\\u306E\\u72B6\\u614B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"\\u30A2\\u30AF\\u30C6\\u30A3\\u30D6\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"\\u7121\\u52B9\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary flex items-center\",onClick:()=>setModalState({type:'add',user:null}),children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-5 w-5 mr-1\"}),\"\\u8FFD\\u52A0\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 bg-primary-100 rounded-md p-3\",children:/*#__PURE__*/_jsx(UsersIcon,{className:\"h-6 w-6 text-primary-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-secondary-900\",children:\"\\u30A2\\u30AF\\u30C6\\u30A3\\u30D6\\u30E6\\u30FC\\u30B6\\u30FC\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-baseline\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-semibold text-secondary-900\",children:activeUsersCount}),/*#__PURE__*/_jsxs(\"p\",{className:\"ml-2 text-sm text-secondary-500\",children:[\"/ \",users.length,\" \\u767B\\u9332\\u30E6\\u30FC\\u30B6\\u30FC\"]})]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-secondary-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-secondary-50\",children:/*#__PURE__*/_jsx(\"tr\",{children:columns.map(column=>/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider\",children:column.name},column.id))})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-secondary-200\",children:filteredUsers.map(user=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-secondary-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-medium\",children:[user.first_name[0],user.last_name[0]]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-secondary-900\",children:[user.last_name,\" \",user.first_name]})})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-secondary-900\",children:user.email})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-secondary-900\",children:user.department})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(RoleBadge,{role:user.role})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:user.status==='アクティブ'?/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-success-100 text-success-800\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-3 w-3 mr-1\"}),\"\\u30A2\\u30AF\\u30C6\\u30A3\\u30D6\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800\",children:[/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-3 w-3 mr-1\"}),\"\\u7121\\u52B9\"]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-secondary-900\",children:user.auth_type})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-1 rounded-full text-primary-600 hover:bg-primary-50\",onClick:()=>setModalState({type:'edit',user}),title:\"\\u7DE8\\u96C6\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"p-1 rounded-full text-primary-600 hover:bg-primary-50\",onClick:()=>toggleUserStatus(user.id),title:user.status==='アクティブ'?'無効にする':'アクティブにする',children:user.status==='アクティブ'?/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-5 w-5\"}):/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"p-1 rounded-full text-primary-600 hover:bg-primary-50\",onClick:()=>setModalState({type:'permissions',user}),title:\"\\u6A29\\u9650\\u8A2D\\u5B9A\",children:/*#__PURE__*/_jsx(KeyIcon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"p-1 rounded-full text-danger-600 hover:bg-danger-50\",onClick:()=>setModalState({type:'delete',user}),title:\"\\u524A\\u9664\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-5 w-5\"})})]})})]},user.id))})]})}),filteredUsers.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary-500\",children:\"\\u8A72\\u5F53\\u3059\\u308B\\u30E6\\u30FC\\u30B6\\u30FC\\u304C\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\"})})]}),renderModal()]});};export default UserManagement;","map":{"version":3,"names":["React","useState","UsersIcon","ArrowPathIcon","PlusIcon","PencilIcon","TrashIcon","CheckCircleIcon","XCircleIcon","UserPlusIcon","KeyIcon","useAuth","jsx","_jsx","jsxs","_jsxs","columns","id","name","RoleBadge","_ref","role","color","className","children","UserFormModal","_ref2","user","onClose","onSubmit","isEdit","formData","setFormData","first_name","last_name","email","department","auth_type","handleChange","e","value","target","prev","handleSubmit","preventDefault","Math","random","toString","substring","status","permissions","onClick","stopPropagation","htmlFor","type","onChange","required","PermissionsModal","_ref3","setPermissions","handlePermissionChange","perm","includes","filter","p","checked","DeleteConfirmModal","_ref4","onConfirm","UserManagement","USER_ROLES","users","setUsers","searchTerm","setSearchTerm","roleFilter","setRoleFilter","statusFilter","setStatusFilter","modalState","setModalState","filteredUsers","nameMatch","toLowerCase","roleMatch","statusMatch","handleUserSubmit","userData","map","u","handlePermissionsSave","handleDeleteUser","userId","toggleUserStatus","activeUsersCount","length","renderModal","xmlns","viewBox","fill","fillRule","d","clipRule","placeholder","column","title"],"sources":["F:/kitting/ITManagementSystem/frontend/src/pages/UserManagement.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { \r\n  UsersIcon, \r\n  ArrowPathIcon, \r\n  PlusIcon,\r\n  PencilIcon,\r\n  TrashIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  UserPlusIcon,\r\n  KeyIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\n// ユーザーテーブルのカラム定義\r\nconst columns = [\r\n  { id: 'name', name: '氏名' },\r\n  { id: 'email', name: 'メールアドレス' },\r\n  { id: 'department', name: '部署' },\r\n  { id: 'role', name: 'ロール' },\r\n  { id: 'status', name: '状態' },\r\n  { id: 'auth_type', name: '認証タイプ' },\r\n  { id: 'actions', name: 'アクション' }\r\n];\r\n\r\n// ユーザーロールのバッジコンポーネント\r\nconst RoleBadge = ({ role }) => {\r\n  let color = 'bg-secondary-100 text-secondary-800';\r\n  \r\n  if (role === 'グローバル管理者') {\r\n    color = 'bg-danger-100 text-danger-800';\r\n  } else if (role === '一般ユーザー') {\r\n    color = 'bg-primary-100 text-primary-800';\r\n  } else if (role === 'ゲスト') {\r\n    color = 'bg-warning-100 text-warning-800';\r\n  }\r\n  \r\n  return (\r\n    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${color}`}>\r\n      {role}\r\n    </span>\r\n  );\r\n};\r\n\r\n// ユーザー追加/編集モーダル\r\nconst UserFormModal = ({ user, onClose, onSubmit }) => {\r\n  const isEdit = !!user;\r\n  const [formData, setFormData] = useState({\r\n    first_name: user?.first_name || '',\r\n    last_name: user?.last_name || '',\r\n    email: user?.email || '',\r\n    role: user?.role || '一般ユーザー',\r\n    department: user?.department || '',\r\n    auth_type: user?.auth_type || 'ローカル認証',\r\n  });\r\n  \r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit({\r\n      id: user?.id || (Math.random().toString(36).substring(2, 15)),\r\n      ...formData,\r\n      status: user?.status || 'アクティブ',\r\n      permissions: user?.permissions || ['read'],\r\n    });\r\n  };\r\n  \r\n  return (\r\n    <div className=\"fixed inset-0 z-30 overflow-y-auto\">\r\n      <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n        <div className=\"fixed inset-0 transition-opacity\" onClick={onClose}>\r\n          <div className=\"absolute inset-0 bg-secondary-900 opacity-50\"></div>\r\n        </div>\r\n\r\n        <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\">&#8203;</span>\r\n\r\n        <div \r\n          className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\"\r\n          onClick={(e) => e.stopPropagation()}\r\n        >\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n              <div className=\"mb-4\">\r\n                <h3 className=\"text-lg leading-6 font-medium text-secondary-900\">\r\n                  {isEdit ? 'ユーザー編集' : 'ユーザー追加'}\r\n                </h3>\r\n                <p className=\"mt-1 text-sm text-secondary-500\">\r\n                  {isEdit ? 'ユーザー情報を更新します' : '新しいユーザーを追加します'}\r\n                </p>\r\n              </div>\r\n              \r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label htmlFor=\"last_name\" className=\"block text-sm font-medium text-secondary-700\">姓</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"last_name\"\r\n                    id=\"last_name\"\r\n                    value={formData.last_name}\r\n                    onChange={handleChange}\r\n                    className=\"mt-1 form-input block w-full\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label htmlFor=\"first_name\" className=\"block text-sm font-medium text-secondary-700\">名</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"first_name\"\r\n                    id=\"first_name\"\r\n                    value={formData.first_name}\r\n                    onChange={handleChange}\r\n                    className=\"mt-1 form-input block w-full\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"mt-4\">\r\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-secondary-700\">メールアドレス</label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  id=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  className=\"mt-1 form-input block w-full\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"mt-4\">\r\n                <label htmlFor=\"department\" className=\"block text-sm font-medium text-secondary-700\">部署</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"department\"\r\n                  id=\"department\"\r\n                  value={formData.department}\r\n                  onChange={handleChange}\r\n                  className=\"mt-1 form-input block w-full\"\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"mt-4\">\r\n                <label htmlFor=\"role\" className=\"block text-sm font-medium text-secondary-700\">ロール</label>\r\n                <select\r\n                  name=\"role\"\r\n                  id=\"role\"\r\n                  value={formData.role}\r\n                  onChange={handleChange}\r\n                  className=\"mt-1 form-select block w-full\"\r\n                  required\r\n                >\r\n                  <option value=\"グローバル管理者\">グローバル管理者</option>\r\n                  <option value=\"一般ユーザー\">一般ユーザー</option>\r\n                  <option value=\"ゲスト\">ゲスト</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"mt-4\">\r\n                <label htmlFor=\"auth_type\" className=\"block text-sm font-medium text-secondary-700\">認証タイプ</label>\r\n                <select\r\n                  name=\"auth_type\"\r\n                  id=\"auth_type\"\r\n                  value={formData.auth_type}\r\n                  onChange={handleChange}\r\n                  className=\"mt-1 form-select block w-full\"\r\n                  required\r\n                >\r\n                  <option value=\"ローカル認証\">ローカル認証</option>\r\n                  <option value=\"Microsoft 365\">Microsoft 365</option>\r\n                  <option value=\"HENGEOINE\">HENGEOINE（フェデレーション認証）</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"bg-secondary-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-primary w-full sm:w-auto sm:ml-3\"\r\n              >\r\n                {isEdit ? '更新' : '追加'}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn border border-secondary-300 bg-white text-secondary-700 hover:bg-secondary-50 mt-3 sm:mt-0 w-full sm:w-auto\"\r\n                onClick={onClose}\r\n              >\r\n                キャンセル\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// 権限設定モーダル\r\nconst PermissionsModal = ({ user, onClose, onSubmit }) => {\r\n  const [permissions, setPermissions] = useState(user.permissions || []);\r\n  \r\n  const handlePermissionChange = (perm) => {\r\n    if (permissions.includes(perm)) {\r\n      setPermissions(permissions.filter(p => p !== perm));\r\n    } else {\r\n      setPermissions([...permissions, perm]);\r\n    }\r\n  };\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit({ ...user, permissions });\r\n  };\r\n  \r\n  return (\r\n    <div className=\"fixed inset-0 z-30 overflow-y-auto\">\r\n      <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n        <div className=\"fixed inset-0 transition-opacity\" onClick={onClose}>\r\n          <div className=\"absolute inset-0 bg-secondary-900 opacity-50\"></div>\r\n        </div>\r\n\r\n        <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\">&#8203;</span>\r\n\r\n        <div \r\n          className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\"\r\n          onClick={(e) => e.stopPropagation()}\r\n        >\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n              <div className=\"mb-4\">\r\n                <h3 className=\"text-lg leading-6 font-medium text-secondary-900\">\r\n                  権限設定\r\n                </h3>\r\n                <p className=\"mt-1 text-sm text-secondary-500\">\r\n                  {`${user.last_name} ${user.first_name}`}の権限を設定します\r\n                </p>\r\n              </div>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between p-3 border border-secondary-200 rounded-md\">\r\n                  <div>\r\n                    <h4 className=\"text-sm font-medium text-secondary-900\">管理権限</h4>\r\n                    <p className=\"text-xs text-secondary-500\">すべての管理機能へのアクセス</p>\r\n                  </div>\r\n                  <div className=\"flex items-center\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"admin\"\r\n                      checked={permissions.includes('admin')}\r\n                      onChange={() => handlePermissionChange('admin')}\r\n                      className=\"form-checkbox h-4 w-4 text-primary-600\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center justify-between p-3 border border-secondary-200 rounded-md\">\r\n                  <div>\r\n                    <h4 className=\"text-sm font-medium text-secondary-900\">読み取り権限</h4>\r\n                    <p className=\"text-xs text-secondary-500\">ダッシュボードと情報の閲覧</p>\r\n                  </div>\r\n                  <div className=\"flex items-center\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"read\"\r\n                      checked={permissions.includes('read')}\r\n                      onChange={() => handlePermissionChange('read')}\r\n                      className=\"form-checkbox h-4 w-4 text-primary-600\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center justify-between p-3 border border-secondary-200 rounded-md\">\r\n                  <div>\r\n                    <h4 className=\"text-sm font-medium text-secondary-900\">書き込み権限</h4>\r\n                    <p className=\"text-xs text-secondary-500\">データの更新と変更</p>\r\n                  </div>\r\n                  <div className=\"flex items-center\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"write\"\r\n                      checked={permissions.includes('write')}\r\n                      onChange={() => handlePermissionChange('write')}\r\n                      className=\"form-checkbox h-4 w-4 text-primary-600\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center justify-between p-3 border border-secondary-200 rounded-md\">\r\n                  <div>\r\n                    <h4 className=\"text-sm font-medium text-secondary-900\">API管理権限</h4>\r\n                    <p className=\"text-xs text-secondary-500\">APIパーミッション管理機能へのアクセス</p>\r\n                  </div>\r\n                  <div className=\"flex items-center\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"api_management\"\r\n                      checked={permissions.includes('api_management')}\r\n                      onChange={() => handlePermissionChange('api_management')}\r\n                      className=\"form-checkbox h-4 w-4 text-primary-600\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"bg-secondary-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-primary w-full sm:w-auto sm:ml-3\"\r\n              >\r\n                保存\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn border border-secondary-300 bg-white text-secondary-700 hover:bg-secondary-50 mt-3 sm:mt-0 w-full sm:w-auto\"\r\n                onClick={onClose}\r\n              >\r\n                キャンセル\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// 削除確認モーダル\r\nconst DeleteConfirmModal = ({ user, onClose, onConfirm }) => {\r\n  return (\r\n    <div className=\"fixed inset-0 z-30 overflow-y-auto\">\r\n      <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n        <div className=\"fixed inset-0 transition-opacity\" onClick={onClose}>\r\n          <div className=\"absolute inset-0 bg-secondary-900 opacity-50\"></div>\r\n        </div>\r\n\r\n        <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\">&#8203;</span>\r\n\r\n        <div \r\n          className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\"\r\n          onClick={(e) => e.stopPropagation()}\r\n        >\r\n          <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n            <div className=\"sm:flex sm:items-start\">\r\n              <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-danger-100 sm:mx-0 sm:h-10 sm:w-10\">\r\n                <TrashIcon className=\"h-6 w-6 text-danger-600\" />\r\n              </div>\r\n              <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\r\n                <h3 className=\"text-lg leading-6 font-medium text-secondary-900\">\r\n                  ユーザーの削除\r\n                </h3>\r\n                <div className=\"mt-2\">\r\n                  <p className=\"text-sm text-secondary-500\">\r\n                    {`${user.last_name} ${user.first_name} を削除してもよろしいですか？この操作は取り消せません。`}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-secondary-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-danger w-full sm:w-auto sm:ml-3\"\r\n              onClick={() => onConfirm(user.id)}\r\n            >\r\n              削除\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn border border-secondary-300 bg-white text-secondary-700 hover:bg-secondary-50 mt-3 sm:mt-0 w-full sm:w-auto\"\r\n              onClick={onClose}\r\n            >\r\n              キャンセル\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst UserManagement = () => {\r\n  // AuthContextからユーザーロールを取得\r\n  const { USER_ROLES } = useAuth();\r\n  \r\n  // モックユーザー一覧（実際のアプリではAPIから取得します）\r\n  const [users, setUsers] = useState([\r\n    {\r\n      id: '1',\r\n      first_name: '太郎',\r\n      last_name: '山田',\r\n      email: 'taro.yamada@example.com',\r\n      role: 'グローバル管理者',\r\n      department: 'IT部門',\r\n      permissions: ['admin', 'read', 'write', 'api_management'],\r\n      status: 'アクティブ',\r\n      auth_type: 'ローカル認証'\r\n    },\r\n    {\r\n      id: '2',\r\n      first_name: '一郎',\r\n      last_name: '鈴木',\r\n      email: 'ichiro.suzuki@example.com',\r\n      role: '一般ユーザー',\r\n      department: 'IT部門',\r\n      permissions: ['read', 'write'],\r\n      status: 'アクティブ',\r\n      auth_type: 'Microsoft 365'\r\n    },\r\n    {\r\n      id: '3',\r\n      first_name: '次郎',\r\n      last_name: '佐藤',\r\n      email: 'jiro.sato@example.com',\r\n      role: 'ゲスト',\r\n      department: '営業部',\r\n      permissions: ['read'],\r\n      status: 'アクティブ',\r\n      auth_type: 'HENGEOINE'\r\n    },\r\n    {\r\n      id: '4',\r\n      first_name: '花子',\r\n      last_name: '田中',\r\n      email: 'hanako.tanaka@example.com',\r\n      role: '一般ユーザー',\r\n      department: '総務部',\r\n      permissions: ['read', 'write'],\r\n      status: '無効',\r\n      auth_type: 'ローカル認証'\r\n    }\r\n  ]);\r\n  \r\n  // 検索とフィルタリング\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [roleFilter, setRoleFilter] = useState('all');\r\n  const [statusFilter, setStatusFilter] = useState('all');\r\n  \r\n  // モーダル状態管理\r\n  const [modalState, setModalState] = useState({\r\n    type: null, // 'add', 'edit', 'delete', 'permissions'\r\n    user: null\r\n  });\r\n  \r\n  // フィルタリング適用\r\n  const filteredUsers = users.filter(user => {\r\n    const nameMatch = `${user.last_name}${user.first_name}${user.email}`.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const roleMatch = roleFilter === 'all' || user.role === roleFilter;\r\n    const statusMatch = statusFilter === 'all' || \r\n                      (statusFilter === 'active' && user.status === 'アクティブ') ||\r\n                      (statusFilter === 'inactive' && user.status === '無効');\r\n    \r\n    return nameMatch && roleMatch && statusMatch;\r\n  });\r\n  \r\n  // ユーザー追加/編集の処理\r\n  const handleUserSubmit = (userData) => {\r\n    if (modalState.type === 'add') {\r\n      setUsers([...users, userData]);\r\n    } else if (modalState.type === 'edit') {\r\n      setUsers(users.map(u => u.id === userData.id ? userData : u));\r\n    }\r\n    setModalState({ type: null, user: null });\r\n  };\r\n  \r\n  // 権限設定の保存処理\r\n  const handlePermissionsSave = (userData) => {\r\n    setUsers(users.map(u => u.id === userData.id ? userData : u));\r\n    setModalState({ type: null, user: null });\r\n  };\r\n  \r\n  // ユーザー削除の処理\r\n  const handleDeleteUser = (userId) => {\r\n    setUsers(users.filter(u => u.id !== userId));\r\n    setModalState({ type: null, user: null });\r\n  };\r\n  \r\n  // ユーザー状態の切り替え\r\n  const toggleUserStatus = (userId) => {\r\n    setUsers(users.map(u => {\r\n      if (u.id === userId) {\r\n        return {\r\n          ...u,\r\n          status: u.status === 'アクティブ' ? '無効' : 'アクティブ'\r\n        };\r\n      }\r\n      return u;\r\n    }));\r\n  };\r\n  \r\n  // アクティブユーザー数を計算\r\n  const activeUsersCount = users.filter(user => user.status === 'アクティブ').length;\r\n  \r\n  // モーダルの表示\r\n  const renderModal = () => {\r\n    if (!modalState.type) return null;\r\n    \r\n    switch (modalState.type) {\r\n      case 'add':\r\n        return (\r\n          <UserFormModal\r\n            onClose={() => setModalState({ type: null, user: null })}\r\n            onSubmit={handleUserSubmit}\r\n          />\r\n        );\r\n      case 'edit':\r\n        return (\r\n          <UserFormModal\r\n            user={modalState.user}\r\n            onClose={() => setModalState({ type: null, user: null })}\r\n            onSubmit={handleUserSubmit}\r\n          />\r\n        );\r\n      case 'permissions':\r\n        return (\r\n          <PermissionsModal\r\n            user={modalState.user}\r\n            onClose={() => setModalState({ type: null, user: null })}\r\n            onSubmit={handlePermissionsSave}\r\n          />\r\n        );\r\n      case 'delete':\r\n        return (\r\n          <DeleteConfirmModal\r\n            user={modalState.user}\r\n            onClose={() => setModalState({ type: null, user: null })}\r\n            onConfirm={handleDeleteUser}\r\n          />\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"space-y-6 animate-fade-in\">\r\n      {/* ヘッダー */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-2xl font-bold text-secondary-900\">ユーザー管理</h1>\r\n        <div className=\"flex items-center text-primary-600\">\r\n          <ArrowPathIcon className=\"h-5 w-5 mr-2\" />\r\n          <span className=\"text-sm\">最終更新: 2025/03/13 18:25</span>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* 検索とフィルター */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between space-y-2 md:space-y-0\">\r\n        <div className=\"flex-1 max-w-lg\">\r\n          <div className=\"relative\">\r\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n              <svg className=\"h-5 w-5 text-secondary-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path fillRule=\"evenodd\" d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"ユーザーを検索...\"\r\n              className=\"form-input pl-10\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"flex space-x-2\">\r\n          <select \r\n            className=\"form-select\"\r\n            value={roleFilter}\r\n            onChange={(e) => setRoleFilter(e.target.value)}\r\n          >\r\n            <option value=\"all\">すべてのロール</option>\r\n            <option value=\"グローバル管理者\">グローバル管理者</option>\r\n            <option value=\"一般ユーザー\">一般ユーザー</option>\r\n            <option value=\"ゲスト\">ゲスト</option>\r\n          </select>\r\n          \r\n          <select \r\n            className=\"form-select\"\r\n            value={statusFilter}\r\n            onChange={(e) => setStatusFilter(e.target.value)}\r\n          >\r\n            <option value=\"all\">すべての状態</option>\r\n            <option value=\"active\">アクティブ</option>\r\n            <option value=\"inactive\">無効</option>\r\n          </select>\r\n          \r\n          <button\r\n            className=\"btn btn-primary flex items-center\"\r\n            onClick={() => setModalState({ type: 'add', user: null })}\r\n          >\r\n            <PlusIcon className=\"h-5 w-5 mr-1\" />\r\n            追加\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* ユーザー統計情報 */}\r\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n        <div className=\"p-6\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0 bg-primary-100 rounded-md p-3\">\r\n              <UsersIcon className=\"h-6 w-6 text-primary-600\" />\r\n            </div>\r\n            <div className=\"ml-5\">\r\n              <h3 className=\"text-lg leading-6 font-medium text-secondary-900\">アクティブユーザー</h3>\r\n              <div className=\"mt-2 flex items-baseline\">\r\n                <p className=\"text-3xl font-semibold text-secondary-900\">{activeUsersCount}</p>\r\n                <p className=\"ml-2 text-sm text-secondary-500\">/ {users.length} 登録ユーザー</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* ユーザーテーブル */}\r\n      <div className=\"bg-white shadow rounded-lg overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-secondary-200\">\r\n            <thead className=\"bg-secondary-50\">\r\n              <tr>\r\n                {columns.map(column => (\r\n                  <th key={column.id} className=\"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider\">\r\n                    {column.name}\r\n                  </th>\r\n                ))}\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-secondary-200\">\r\n              {filteredUsers.map(user => (\r\n                <tr key={user.id} className=\"hover:bg-secondary-50\">\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"flex-shrink-0 h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-medium\">\r\n                        {user.first_name[0]}{user.last_name[0]}\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <div className=\"text-sm font-medium text-secondary-900\">\r\n                          {user.last_name} {user.first_name}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm text-secondary-900\">{user.email}</div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm text-secondary-900\">{user.department}</div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <RoleBadge role={user.role} />\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    {user.status === 'アクティブ' ? (\r\n                      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-success-100 text-success-800\">\r\n                        <CheckCircleIcon className=\"h-3 w-3 mr-1\" />\r\n                        アクティブ\r\n                      </span>\r\n                    ) : (\r\n                      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800\">\r\n                        <XCircleIcon className=\"h-3 w-3 mr-1\" />\r\n                        無効\r\n                      </span>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm text-secondary-900\">{user.auth_type}</div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                    <div className=\"flex items-center justify-end space-x-2\">\r\n                      <button\r\n                        className=\"p-1 rounded-full text-primary-600 hover:bg-primary-50\"\r\n                        onClick={() => setModalState({ type: 'edit', user })}\r\n                        title=\"編集\"\r\n                      >\r\n                        <PencilIcon className=\"h-5 w-5\" />\r\n                      </button>\r\n                      <button\r\n                        className=\"p-1 rounded-full text-primary-600 hover:bg-primary-50\"\r\n                        onClick={() => toggleUserStatus(user.id)}\r\n                        title={user.status === 'アクティブ' ? '無効にする' : 'アクティブにする'}\r\n                      >\r\n                        {user.status === 'アクティブ' ? (\r\n                          <XCircleIcon className=\"h-5 w-5\" />\r\n                        ) : (\r\n                          <CheckCircleIcon className=\"h-5 w-5\" />\r\n                        )}\r\n                      </button>\r\n                      <button\r\n                        className=\"p-1 rounded-full text-primary-600 hover:bg-primary-50\"\r\n                        onClick={() => setModalState({ type: 'permissions', user })}\r\n                        title=\"権限設定\"\r\n                      >\r\n                        <KeyIcon className=\"h-5 w-5\" />\r\n                      </button>\r\n                      <button\r\n                        className=\"p-1 rounded-full text-danger-600 hover:bg-danger-50\"\r\n                        onClick={() => setModalState({ type: 'delete', user })}\r\n                        title=\"削除\"\r\n                      >\r\n                        <TrashIcon className=\"h-5 w-5\" />\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        \r\n        {filteredUsers.length === 0 && (\r\n          <div className=\"text-center py-12\">\r\n            <p className=\"text-secondary-500\">\r\n              該当するユーザーが見つかりません\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* モーダル表示 */}\r\n      {renderModal()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}