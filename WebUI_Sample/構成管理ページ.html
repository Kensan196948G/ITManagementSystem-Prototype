<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>構成管理 - ITSM運用管理システム</title>
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<script>tailwind.config={theme:{extend:{colors:{primary:'#3b82f6',secondary:'#64748b'},borderRadius:{'none':'0px','sm':'4px',DEFAULT:'8px','md':'12px','lg':'16px','xl':'20px','2xl':'24px','3xl':'32px','full':'9999px','button':'8px'}}}}</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"></script>
<style>
:where([class^="ri-"])::before { content: "\f3c2"; }
body {
  font-family: 'Noto Sans JP', sans-serif;
  background-color: #f9fafb;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
input[type="number"] {
  -moz-appearance: textfield;
}
.custom-switch {
  position: relative;
  display: inline-block;
  width: 44px;
  height: 24px;
}
.custom-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}
.switch-slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #e2e8f0;
  transition: .4s;
  border-radius: 24px;
}
.switch-slider:before {
  position: absolute;
  content: "";
  height: 18px;
  width: 18px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
}
input:checked + .switch-slider {
  background-color: #3b82f6;
}
input:checked + .switch-slider:before {
  transform: translateX(20px);
}
.relationship-line {
  stroke: #e2e8f0;
  stroke-width: 2;
}
.relationship-line.critical {
  stroke: #ef4444;
}
.relationship-line.important {
  stroke: #f59e0b;
}
.relationship-line.normal {
  stroke: #3b82f6;
}
.custom-checkbox {
  appearance: none;
  width: 18px;
  height: 18px;
  border: 2px solid #d1d5db;
  border-radius: 4px;
  background-color: white;
  cursor: pointer;
  position: relative;
}
.custom-checkbox:checked {
  background-color: #3b82f6;
  border-color: #3b82f6;
}
.custom-checkbox:checked::after {
  content: '';
  position: absolute;
  left: 5px;
  top: 2px;
  width: 6px;
  height: 10px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}
.custom-radio {
  appearance: none;
  width: 18px;
  height: 18px;
  border: 2px solid #d1d5db;
  border-radius: 50%;
  background-color: white;
  cursor: pointer;
  position: relative;
}
.custom-radio:checked {
  border-color: #3b82f6;
}
.custom-radio:checked::after {
  content: '';
  position: absolute;
  left: 3px;
  top: 3px;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: #3b82f6;
}
</style>
</head>
<body>
<div class="flex h-screen overflow-hidden bg-white">
  <!-- サイドナビゲーション -->
  <div class="w-64 bg-gray-900 text-white flex flex-col">
    <div class="p-4 flex items-center border-b border-gray-800">
      <div class="text-2xl font-['Pacifico'] text-white">logo</div>
      <div class="ml-2 text-sm font-medium">ITSM Platform</div>
    </div>
    <div class="flex-1 overflow-y-auto scrollbar-hide">
      <nav class="mt-4">
        <div class="px-4 py-2 text-xs font-medium text-gray-400 uppercase">メインメニュー</div>
        <a href="#" class="flex items-center px-4 py-3 text-gray-400 hover:bg-gray-800 hover:text-gray-100">
          <div class="w-6 h-6 flex items-center justify-center mr-3">
            <i class="ri-dashboard-line"></i>
          </div>
          <span>ダッシュボード</span>
        </a>
        <a href="#" class="flex items-center px-4 py-3 text-gray-400 hover:bg-gray-800 hover:text-gray-100">
          <div class="w-6 h-6 flex items-center justify-center mr-3">
            <i class="ri-error-warning-line"></i>
          </div>
          <span>インシデント管理</span>
        </a>
        <a href="#" class="flex items-center px-4 py-3 text-gray-400 hover:bg-gray-800 hover:text-gray-100">
          <div class="w-6 h-6 flex items-center justify-center mr-3">
            <i class="ri-question-line"></i>
          </div>
          <span>問題管理</span>
        </a>
        <a href="#" class="flex items-center px-4 py-3 text-gray-400 hover:bg-gray-800 hover:text-gray-100">
          <div class="w-6 h-6 flex items-center justify-center mr-3">
            <i class="ri-refresh-line"></i>
          </div>
          <span>変更管理</span>
        </a>
        <a href="#" class="flex items-center px-4 py-3 text-gray-400 hover:bg-gray-800 hover:text-gray-100">
          <div class="w-6 h-6 flex items-center justify-center mr-3">
            <i class="ri-rocket-line"></i>
          </div>
          <span>リリース管理</span>
        </a>
        <div class="px-4 py-2 mt-4 text-xs font-medium text-gray-400 uppercase">ISO準拠管理</div>
        <a href="https://readdy.ai/home/5b2c5163-c322-43ed-a857-f31f575af0a6/898ede5d-9cf7-4e0f-9b26-a9796511b7d4" data-readdy="true" class="flex items-center px-4 py-3 text-gray-100 bg-gray-800">
          <div class="w-6 h-6 flex items-center justify-center mr-3">
            <i class="ri-settings-3-line"></i>
          </div>
          <span>構成管理</span>
        </a>
        <a href="#" class="flex items-center px-4 py-3 text-gray-400 hover:bg-gray-800 hover:text-gray-100">
          <div class="w-6 h-6 flex items-center justify-center mr-3">
            <i class="ri-shield-check-line"></i>
          </div>
          <span>セキュリティ管理</span>
        </a>
        <a href="#" class="flex items-center px-4 py-3 text-gray-400 hover:bg-gray-800 hover:text-gray-100">
          <div class="w-6 h-6 flex items-center justify-center mr-3">
            <i class="ri-timer-line"></i>
          </div>
          <span>可用性管理</span>
        </a>
        <a href="#" class="flex items-center px-4 py-3 text-gray-400 hover:bg-gray-800 hover:text-gray-100">
          <div class="w-6 h-6 flex items-center justify-center mr-3">
            <i class="ri-database-2-line"></i>
          </div>
          <span>キャパシティ管理</span>
        </a>
        <div class="px-4 py-2 mt-4 text-xs font-medium text-gray-400 uppercase">レポート</div>
        <a href="#" class="flex items-center px-4 py-3 text-gray-400 hover:bg-gray-800 hover:text-gray-100">
          <div class="w-6 h-6 flex items-center justify-center mr-3">
            <i class="ri-file-chart-line"></i>
          </div>
          <span>レポート</span>
        </a>
        <a href="#" class="flex items-center px-4 py-3 text-gray-400 hover:bg-gray-800 hover:text-gray-100">
          <div class="w-6 h-6 flex items-center justify-center mr-3">
            <i class="ri-settings-line"></i>
          </div>
          <span>設定</span>
        </a>
      </nav>
    </div>
    <div class="p-4 border-t border-gray-800">
      <div class="flex items-center">
        <div class="w-8 h-8 rounded-full bg-primary flex items-center justify-center text-white">
          <i class="ri-user-line"></i>
        </div>
        <div class="ml-3">
          <div class="text-sm font-medium">佐藤 健太</div>
          <div class="text-xs text-gray-400">システム管理者</div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- メインコンテンツ -->
  <div class="flex-1 flex flex-col overflow-hidden">
    <!-- ヘッダー -->
    <header class="bg-white border-b border-gray-200">
      <div class="flex items-center justify-between px-6 py-3">
        <div class="flex items-center">
          <div class="text-lg font-medium">構成管理</div>
          <nav class="ml-6 flex">
            <ol class="flex items-center space-x-2 text-sm text-gray-500">
              <li>
                <a href="#" class="hover:text-gray-900">ホーム</a>
              </li>
              <li class="flex items-center">
                <span class="mx-1">/</span>
                <a href="#" class="hover:text-gray-900">ISO準拠管理</a>
              </li>
              <li class="flex items-center">
                <span class="mx-1">/</span>
                <span class="text-gray-900">構成管理</span>
              </li>
            </ol>
          </nav>
        </div>
        <div class="flex items-center">
          <div class="mr-6 text-sm text-gray-600">
            <span id="current-date">2025年05月10日</span>
            <span id="current-time">12:30:45</span>
            <span class="ml-1">JST</span>
          </div>
          <button class="relative p-2 text-gray-600 hover:text-gray-900 mr-4">
            <div class="w-6 h-6 flex items-center justify-center">
              <i class="ri-notification-3-line"></i>
            </div>
            <span class="absolute top-1 right-1 w-4 h-4 bg-red-500 rounded-full text-white text-xs flex items-center justify-center">3</span>
          </button>
          <button class="p-2 text-gray-600 hover:text-gray-900 mr-4">
            <div class="w-6 h-6 flex items-center justify-center">
              <i class="ri-settings-4-line"></i>
            </div>
          </button>
          <button class="p-2 text-gray-600 hover:text-gray-900">
            <div class="w-6 h-6 flex items-center justify-center">
              <i class="ri-question-line"></i>
            </div>
          </button>
        </div>
      </div>
      
      <!-- タブナビゲーション -->
      <div class="px-6 border-b border-gray-200">
        <div class="flex space-x-8">
          <button id="tab-dashboard" class="px-1 py-4 text-sm font-medium text-primary border-b-2 border-primary">
            ダッシュボード
          </button>
          <button id="tab-assets" class="px-1 py-4 text-sm font-medium text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300">
            IT資産一覧
          </button>
          <button id="tab-relations" class="px-1 py-4 text-sm font-medium text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300">
            関連図
          </button>
          <button id="tab-history" class="px-1 py-4 text-sm font-medium text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300">
            変更履歴
          </button>
        </div>
      </div>
    </header>
    
    <!-- コンテンツエリア -->
    <main class="flex-1 overflow-y-auto p-6 bg-gray-50">
      <div class="max-w-7xl mx-auto">
        <!-- ダッシュボードタブコンテンツ -->
        <div id="content-dashboard" class="space-y-6">
          <!-- KPIカード -->
          <div class="grid grid-cols-4 gap-6">
            <div class="bg-white rounded shadow p-5">
              <div class="flex items-center">
                <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-primary">
                  <div class="w-6 h-6 flex items-center justify-center">
                    <i class="ri-database-2-line ri-lg"></i>
                  </div>
                </div>
                <div class="ml-4">
                  <div class="text-sm text-gray-500">総IT資産数</div>
                  <div class="text-2xl font-bold">248</div>
                </div>
              </div>
              <div class="mt-3 flex items-center text-xs text-green-600">
                <div class="w-4 h-4 flex items-center justify-center mr-1">
                  <i class="ri-arrow-up-s-line"></i>
                </div>
                <span>先月比 +12 件</span>
              </div>
            </div>
            
            <div class="bg-white rounded shadow p-5">
              <div class="flex items-center">
                <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center text-green-600">
                  <div class="w-6 h-6 flex items-center justify-center">
                    <i class="ri-checkbox-circle-line ri-lg"></i>
                  </div>
                </div>
                <div class="ml-4">
                  <div class="text-sm text-gray-500">アクティブCI数</div>
                  <div class="text-2xl font-bold">215</div>
                </div>
              </div>
              <div class="mt-3 flex items-center text-xs text-gray-500">
                <span>総資産の 86.7%</span>
              </div>
            </div>
            
            <div class="bg-white rounded shadow p-5">
              <div class="flex items-center">
                <div class="w-12 h-12 rounded-full bg-red-100 flex items-center justify-center text-red-600">
                  <div class="w-6 h-6 flex items-center justify-center">
                    <i class="ri-alert-line ri-lg"></i>
                  </div>
                </div>
                <div class="ml-4">
                  <div class="text-sm text-gray-500">重要度の高いCI数</div>
                  <div class="text-2xl font-bold">42</div>
                </div>
              </div>
              <div class="mt-3 flex items-center text-xs text-gray-500">
                <span>総資産の 16.9%</span>
              </div>
            </div>
            
            <div class="bg-white rounded shadow p-5">
              <div class="flex items-center">
                <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center text-purple-600">
                  <div class="w-6 h-6 flex items-center justify-center">
                    <i class="ri-history-line ri-lg"></i>
                  </div>
                </div>
                <div class="ml-4">
                  <div class="text-sm text-gray-500">最近の変更件数</div>
                  <div class="text-2xl font-bold">18</div>
                </div>
              </div>
              <div class="mt-3 flex items-center text-xs text-gray-500">
                <span>過去30日間</span>
              </div>
            </div>
          </div>
          
          <!-- グラフセクション -->
          <div class="grid grid-cols-2 gap-6">
            <div class="bg-white rounded shadow">
              <div class="px-5 py-4 border-b border-gray-200">
                <h2 class="text-lg font-medium">資産タイプ別分布</h2>
              </div>
              <div class="p-5">
                <div id="asset-type-chart" class="h-72"></div>
              </div>
            </div>
            
            <div class="bg-white rounded shadow">
              <div class="px-5 py-4 border-b border-gray-200">
                <h2 class="text-lg font-medium">重要度別分類</h2>
              </div>
              <div class="p-5">
                <div id="importance-chart" class="h-72"></div>
              </div>
            </div>
          </div>
          
          <!-- 最近の変更 -->
          <div class="bg-white rounded shadow">
            <div class="px-5 py-4 border-b border-gray-200">
              <div class="flex items-center justify-between">
                <h2 class="text-lg font-medium">最近の構成変更</h2>
                <button class="text-sm text-primary hover:text-primary-dark whitespace-nowrap !rounded-button">すべて表示</button>
              </div>
            </div>
            <div class="p-5">
              <div class="space-y-4">
                <div class="flex items-start">
                  <div class="flex-shrink-0 w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mt-1">
                    <div class="w-5 h-5 flex items-center justify-center">
                      <i class="ri-add-line"></i>
                    </div>
                  </div>
                  <div class="ml-4 flex-1">
                    <div class="flex items-center justify-between">
                      <div class="text-sm font-medium">新規サーバー追加</div>
                      <div class="text-xs text-gray-500">2025/05/09 14:30</div>
                    </div>
                    <div class="mt-1 text-sm text-gray-600">
                      データベースサーバー (DB-SRV-12) が追加されました。
                    </div>
                    <div class="mt-2 text-xs text-gray-500">
                      変更者: 山田 太郎
                    </div>
                  </div>
                </div>
                
                <div class="flex items-start">
                  <div class="flex-shrink-0 w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-600 mt-1">
                    <div class="w-5 h-5 flex items-center justify-center">
                      <i class="ri-edit-line"></i>
                    </div>
                  </div>
                  <div class="ml-4 flex-1">
                    <div class="flex items-center justify-between">
                      <div class="text-sm font-medium">ネットワーク機器設定変更</div>
                      <div class="text-xs text-gray-500">2025/05/08 11:15</div>
                    </div>
                    <div class="mt-1 text-sm text-gray-600">
                      コアスイッチ (NW-SW-03) のファームウェアがアップデートされました。
                    </div>
                    <div class="mt-2 text-xs text-gray-500">
                      変更者: 鈴木 一郎
                    </div>
                  </div>
                </div>
                
                <div class="flex items-start">
                  <div class="flex-shrink-0 w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600 mt-1">
                    <div class="w-5 h-5 flex items-center justify-center">
                      <i class="ri-link"></i>
                    </div>
                  </div>
                  <div class="ml-4 flex-1">
                    <div class="flex items-center justify-between">
                      <div class="text-sm font-medium">関連付け更新</div>
                      <div class="text-xs text-gray-500">2025/05/07 09:45</div>
                    </div>
                    <div class="mt-1 text-sm text-gray-600">
                      アプリケーションサーバー (APP-SRV-05) とデータベースサーバー (DB-SRV-08) の関連付けが更新されました。
                    </div>
                    <div class="mt-2 text-xs text-gray-500">
                      変更者: 佐藤 健太
                    </div>
                  </div>
                </div>
                
                <div class="flex items-start">
                  <div class="flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-red-600 mt-1">
                    <div class="w-5 h-5 flex items-center justify-center">
                      <i class="ri-delete-bin-line"></i>
                    </div>
                  </div>
                  <div class="ml-4 flex-1">
                    <div class="flex items-center justify-between">
                      <div class="text-sm font-medium">資産廃棄</div>
                      <div class="text-xs text-gray-500">2025/05/05 16:20</div>
                    </div>
                    <div class="mt-1 text-sm text-gray-600">
                      旧ファイルサーバー (FS-SRV-02) が廃棄処理されました。
                    </div>
                    <div class="mt-2 text-xs text-gray-500">
                      変更者: 高橋 真理
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- IT資産一覧タブコンテンツ -->
        <div id="content-assets" class="space-y-6 hidden">
          <!-- 検索・フィルターツールバー -->
          <div class="bg-white rounded shadow p-4">
            <div class="flex flex-wrap items-center gap-4">
              <div class="flex-1 min-w-[200px]">
                <div class="relative">
                  <input type="text" placeholder="資産名、ID、タイプで検索..." class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                  <div class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">
                    <div class="w-4 h-4 flex items-center justify-center">
                      <i class="ri-search-line"></i>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="flex items-center gap-4 flex-wrap">
                <div class="relative">
                  <button class="flex items-center px-3 py-2 border border-gray-300 rounded text-sm bg-white !rounded-button">
                    <span>資産タイプ</span>
                    <div class="w-4 h-4 flex items-center justify-center ml-2">
                      <i class="ri-arrow-down-s-line"></i>
                    </div>
                  </button>
                  <div class="absolute z-10 mt-1 w-48 bg-white rounded shadow-lg border border-gray-200 hidden">
                    <div class="p-2 space-y-1">
                      <label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                        <input type="checkbox" class="custom-checkbox mr-2">
                        <span class="text-sm">サーバー</span>
                      </label>
                      <label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                        <input type="checkbox" class="custom-checkbox mr-2">
                        <span class="text-sm">ネットワーク機器</span>
                      </label>
                      <label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                        <input type="checkbox" class="custom-checkbox mr-2">
                        <span class="text-sm">ストレージ</span>
                      </label>
                      <label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                        <input type="checkbox" class="custom-checkbox mr-2">
                        <span class="text-sm">クライアント端末</span>
                      </label>
                      <label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                        <input type="checkbox" class="custom-checkbox mr-2">
                        <span class="text-sm">ソフトウェア</span>
                      </label>
                    </div>
                  </div>
                </div>
                
                <div class="relative">
                  <button class="flex items-center px-3 py-2 border border-gray-300 rounded text-sm bg-white !rounded-button">
                    <span>ステータス</span>
                    <div class="w-4 h-4 flex items-center justify-center ml-2">
                      <i class="ri-arrow-down-s-line"></i>
                    </div>
                  </button>
                  <div class="absolute z-10 mt-1 w-48 bg-white rounded shadow-lg border border-gray-200 hidden">
                    <div class="p-2 space-y-1">
                      <label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                        <input type="checkbox" class="custom-checkbox mr-2">
                        <span class="text-sm">アクティブ</span>
                      </label>
                      <label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                        <input type="checkbox" class="custom-checkbox mr-2">
                        <span class="text-sm">メンテナンス中</span>
                      </label>
                      <label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                        <input type="checkbox" class="custom-checkbox mr-2">
                        <span class="text-sm">非アクティブ</span>
                      </label>
                      <label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                        <input type="checkbox" class="custom-checkbox mr-2">
                        <span class="text-sm">廃止予定</span>
                      </label>
                    </div>
                  </div>
                </div>
                
                <div class="relative">
                  <button class="flex items-center px-3 py-2 border border-gray-300 rounded text-sm bg-white !rounded-button">
                    <span>重要度</span>
                    <div class="w-4 h-4 flex items-center justify-center ml-2">
                      <i class="ri-arrow-down-s-line"></i>
                    </div>
                  </button>
                  <div class="absolute z-10 mt-1 w-48 bg-white rounded shadow-lg border border-gray-200 hidden">
                    <div class="p-2 space-y-1">
                      <label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                        <input type="checkbox" class="custom-checkbox mr-2">
                        <span class="text-sm">最重要</span>
                      </label>
                      <label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                        <input type="checkbox" class="custom-checkbox mr-2">
                        <span class="text-sm">高</span>
                      </label>
                      <label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                        <input type="checkbox" class="custom-checkbox mr-2">
                        <span class="text-sm">中</span>
                      </label>
                      <label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                        <input type="checkbox" class="custom-checkbox mr-2">
                        <span class="text-sm">低</span>
                      </label>
                    </div>
                  </div>
                </div>
                
                <button class="px-3 py-2 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200 !rounded-button">
                  <div class="flex items-center">
                    <div class="w-4 h-4 flex items-center justify-center mr-1">
                      <i class="ri-refresh-line"></i>
                    </div>
                    <span>リセット</span>
                  </div>
                </button>
              </div>
              
              <button class="px-4 py-2 bg-primary text-white rounded text-sm hover:bg-blue-600 ml-auto !rounded-button">
                <div class="flex items-center">
                  <div class="w-4 h-4 flex items-center justify-center mr-1">
                    <i class="ri-add-line"></i>
                  </div>
                  <span>新規CI登録</span>
                </div>
              </button>
            </div>
          </div>
          
          <!-- IT資産一覧テーブル -->
          <div class="bg-white rounded shadow overflow-hidden">
            <div class="overflow-x-auto">
              <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                  <tr>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      <div class="flex items-center">
                        <span>CI ID</span>
                        <button class="ml-1 text-gray-400 hover:text-gray-600">
                          <div class="w-4 h-4 flex items-center justify-center">
                            <i class="ri-arrow-up-s-line"></i>
                          </div>
                        </button>
                      </div>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      <div class="flex items-center">
                        <span>名称</span>
                        <button class="ml-1 text-gray-400 hover:text-gray-600">
                          <div class="w-4 h-4 flex items-center justify-center">
                            <i class="ri-arrow-up-s-line"></i>
                          </div>
                        </button>
                      </div>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      <div class="flex items-center">
                        <span>タイプ</span>
                        <button class="ml-1 text-gray-400 hover:text-gray-600">
                          <div class="w-4 h-4 flex items-center justify-center">
                            <i class="ri-arrow-up-s-line"></i>
                          </div>
                        </button>
                      </div>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      <div class="flex items-center">
                        <span>ステータス</span>
                        <button class="ml-1 text-gray-400 hover:text-gray-600">
                          <div class="w-4 h-4 flex items-center justify-center">
                            <i class="ri-arrow-up-s-line"></i>
                          </div>
                        </button>
                      </div>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      <div class="flex items-center">
                        <span>重要度</span>
                        <button class="ml-1 text-gray-400 hover:text-gray-600">
                          <div class="w-4 h-4 flex items-center justify-center">
                            <i class="ri-arrow-up-s-line"></i>
                          </div>
                        </button>
                      </div>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      <div class="flex items-center">
                        <span>所有者</span>
                        <button class="ml-1 text-gray-400 hover:text-gray-600">
                          <div class="w-4 h-4 flex items-center justify-center">
                            <i class="ri-arrow-up-s-line"></i>
                          </div>
                        </button>
                      </div>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      <div class="flex items-center">
                        <span>最終更新日</span>
                        <button class="ml-1 text-gray-400 hover:text-gray-600">
                          <div class="w-4 h-4 flex items-center justify-center">
                            <i class="ri-arrow-up-s-line"></i>
                          </div>
                        </button>
                      </div>
                    </th>
                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                      アクション
                    </th>
                  </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                  <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">CI-SRV-001</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">プライマリWebサーバー</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">サーバー</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">アクティブ</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">最重要</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">インフラチーム</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2025/05/02</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                      <button class="text-primary hover:text-primary-dark mr-3 !rounded-button">詳細</button>
                      <button class="text-gray-600 hover:text-gray-900 mr-3 !rounded-button">編集</button>
                      <button class="text-red-600 hover:text-red-800 !rounded-button">削除</button>
                    </td>
                  </tr>
                  <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">CI-SRV-002</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">セカンダリWebサーバー</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">サーバー</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">アクティブ</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">最重要</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">インフラチーム</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2025/05/02</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                      <button class="text-primary hover:text-primary-dark mr-3 !rounded-button">詳細</button>
                      <button class="text-gray-600 hover:text-gray-900 mr-3 !rounded-button">編集</button>
                      <button class="text-red-600 hover:text-red-800 !rounded-button">削除</button>
                    </td>
                  </tr>
                  <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">CI-DB-001</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">プライマリDBサーバー</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">データベース</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">アクティブ</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">最重要</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">DBチーム</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2025/04/28</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                      <button class="text-primary hover:text-primary-dark mr-3 !rounded-button">詳細</button>
                      <button class="text-gray-600 hover:text-gray-900 mr-3 !rounded-button">編集</button>
                      <button class="text-red-600 hover:text-red-800 !rounded-button">削除</button>
                    </td>
                  </tr>
                  <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">CI-NW-001</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">コアスイッチ</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">ネットワーク機器</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">アクティブ</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">最重要</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">ネットワークチーム</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2025/05/08</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                      <button class="text-primary hover:text-primary-dark mr-3 !rounded-button">詳細</button>
                      <button class="text-gray-600 hover:text-gray-900 mr-3 !rounded-button">編集</button>
                      <button class="text-red-600 hover:text-red-800 !rounded-button">削除</button>
                    </td>
                  </tr>
                  <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">CI-SW-001</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">会計システム</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">ソフトウェア</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">アクティブ</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">高</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">財務部</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2025/04/15</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                      <button class="text-primary hover:text-primary-dark mr-3 !rounded-button">詳細</button>
                      <button class="text-gray-600 hover:text-gray-900 mr-3 !rounded-button">編集</button>
                      <button class="text-red-600 hover:text-red-800 !rounded-button">削除</button>
                    </td>
                  </tr>
                  <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">CI-STG-001</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">メインストレージ</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">ストレージ</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">アクティブ</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">高</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">インフラチーム</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2025/04/20</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                      <button class="text-primary hover:text-primary-dark mr-3 !rounded-button">詳細</button>
                      <button class="text-gray-600 hover:text-gray-900 mr-3 !rounded-button">編集</button>
                      <button class="text-red-600 hover:text-red-800 !rounded-button">削除</button>
                    </td>
                  </tr>
                  <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">CI-PC-001</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">経営企画部ノートPC</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">クライアント端末</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">アクティブ</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">中</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">経営企画部</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2025/03/10</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                      <button class="text-primary hover:text-primary-dark mr-3 !rounded-button">詳細</button>
                      <button class="text-gray-600 hover:text-gray-900 mr-3 !rounded-button">編集</button>
                      <button class="text-red-600 hover:text-red-800 !rounded-button">削除</button>
                    </td>
                  </tr>
                  <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">CI-FW-001</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ファイアウォール</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">ネットワーク機器</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">メンテナンス中</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">最重要</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">セキュリティチーム</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2025/05/09</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                      <button class="text-primary hover:text-primary-dark mr-3 !rounded-button">詳細</button>
                      <button class="text-gray-600 hover:text-gray-900 mr-3 !rounded-button">編集</button>
                      <button class="text-red-600 hover:text-red-800 !rounded-button">削除</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            
            <!-- ページネーション -->
            <div class="px-6 py-3 flex items-center justify-between border-t border-gray-200">
              <div class="flex-1 flex justify-between sm:hidden">
                <button class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 !rounded-button">
                  前へ
                </button>
                <button class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 !rounded-button">
                  次へ
                </button>
              </div>
              <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
                <div>
                  <p class="text-sm text-gray-700">
                    <span>全</span>
                    <span class="font-medium">248</span>
                    <span>件中</span>
                    <span class="font-medium">1</span>
                    <span>から</span>
                    <span class="font-medium">8</span>
                    <span>件を表示</span>
                  </p>
                </div>
                <div>
                  <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                    <button class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 !rounded-button">
                      <span class="sr-only">前へ</span>
                      <div class="w-5 h-5 flex items-center justify-center">
                        <i class="ri-arrow-left-s-line"></i>
                      </div>
                    </button>
                    <button class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-primary text-sm font-medium text-white !rounded-button">
                      1
                    </button>
                    <button class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 !rounded-button">
                      2
                    </button>
                    <button class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 !rounded-button">
                      3
                    </button>
                    <span class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700">
                      ...
                    </span>
                    <button class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 !rounded-button">
                      31
                    </button>
                    <button class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 !rounded-button">
                      <span class="sr-only">次へ</span>
                      <div class="w-5 h-5 flex items-center justify-center">
                        <i class="ri-arrow-right-s-line"></i>
                      </div>
                    </button>
                  </nav>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 関連図タブコンテンツ -->
        <div id="content-relations" class="space-y-6 hidden">
          <div class="bg-white rounded shadow p-4">
            <div class="flex flex-wrap items-center gap-4">
              <div class="flex-1 min-w-[200px]">
                <div class="relative">
                  <input type="text" placeholder="関連を検索..." class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                  <div class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">
                    <div class="w-4 h-4 flex items-center justify-center">
                      <i class="ri-search-line"></i>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="flex items-center gap-4">
                <div class="flex items-center space-x-2">
                  <label class="text-sm">表示レベル:</label>
                  <select class="border border-gray-300 rounded text-sm px-3 py-2 pr-8 bg-white focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    <option>1次関連</option>
                    <option>2次関連</option>
                    <option>3次関連</option>
                    <option>すべて</option>
                  </select>
                </div>
                
                <div class="flex items-center space-x-2">
                  <label class="text-sm">関連タイプ:</label>
                  <select class="border border-gray-300 rounded text-sm px-3 py-2 pr-8 bg-white focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    <option>すべて</option>
                    <option>依存関係</option>
                    <option>通信関係</option>
                    <option>包含関係</option>
                  </select>
                </div>
              </div>
              
              <div class="flex items-center gap-3 ml-auto">
                <button class="p-2 text-gray-600 hover:text-gray-900 bg-gray-100 rounded !rounded-button">
                  <div class="w-5 h-5 flex items-center justify-center">
                    <i class="ri-zoom-in-line"></i>
                  </div>
                </button>
                <button class="p-2 text-gray-600 hover:text-gray-900 bg-gray-100 rounded !rounded-button">
                  <div class="w-5 h-5 flex items-center justify-center">
                    <i class="ri-zoom-out-line"></i>
                  </div>
                </button>
                <button class="p-2 text-gray-600 hover:text-gray-900 bg-gray-100 rounded !rounded-button">
                  <div class="w-5 h-5 flex items-center justify-center">
                    <i class="ri-refresh-line"></i>
                  </div>
                </button>
                <button class="p-2 text-gray-600 hover:text-gray-900 bg-gray-100 rounded !rounded-button">
                  <div class="w-5 h-5 flex items-center justify-center">
                    <i class="ri-download-line"></i>
                  </div>
                </button>
              </div>
            </div>
          </div>
          
          <!-- 関連図表示エリア -->
          <div class="bg-white rounded shadow overflow-hidden">
            <div class="p-4 border-b border-gray-200">
              <div class="flex items-center justify-between">
                <h2 class="text-lg font-medium">構成アイテム関連図</h2>
                <div class="flex items-center space-x-4">
                  <div class="flex items-center space-x-2">
                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                    <span class="text-xs text-gray-600">最重要</span>
                  </div>
                  <div class="flex items-center space-x-2">
                    <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                    <span class="text-xs text-gray-600">高</span>
                  </div>
                  <div class="flex items-center space-x-2">
                    <div class="w-3 h-3 bg-blue-500 rounded-full"></div>
                    <span class="text-xs text-gray-600">中</span>
                  </div>
                  <div class="flex items-center space-x-2">
                    <div class="w-3 h-3 bg-gray-400 rounded-full"></div>
                    <span class="text-xs text-gray-600">低</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="p-5 h-[600px] relative overflow-hidden" id="relation-diagram">
              <svg width="100%" height="100%" id="relation-svg">
                <!-- 関連線 -->
                <line x1="400" y1="300" x2="200" y2="150" class="relationship-line critical"></line>
                <line x1="400" y1="300" x2="200" y2="300" class="relationship-line critical"></line>
                <line x1="400" y1="300" x2="200" y2="450" class="relationship-line critical"></line>
                <line x1="400" y1="300" x2="600" y2="150" class="relationship-line important"></line>
                <line x1="400" y1="300" x2="600" y2="300" class="relationship-line normal"></line>
                <line x1="400" y1="300" x2="600" y2="450" class="relationship-line normal"></line>
                <line x1="600" y1="150" x2="750" y2="100" class="relationship-line normal"></line>
                <line x1="600" y1="150" x2="750" y2="200" class="relationship-line normal"></line>
                <line x1="200" y1="150" x2="50" y2="100" class="relationship-line important"></line>
                <line x1="200" y1="150" x2="50" y2="200" class="relationship-line normal"></line>
              </svg>
              
              <!-- ノード要素（SVGの上に重ねて表示） -->
              <div class="absolute top-[280px] left-[380px] w-[40px] h-[40px] bg-red-500 rounded-full flex items-center justify-center text-white text-xs transform -translate-x-1/2 -translate-y-1/2 cursor-pointer z-10">
                DB-01
              </div>
              
              <div class="absolute top-[130px] left-[180px] w-[40px] h-[40px] bg-red-500 rounded-full flex items-center justify-center text-white text-xs transform -translate-x-1/2 -translate-y-1/2 cursor-pointer">
                WEB-01
              </div>
              
              <div class="absolute top-[280px] left-[180px] w-[40px] h-[40px] bg-red-500 rounded-full flex items-center justify-center text-white text-xs transform -translate-x-1/2 -translate-y-1/2 cursor-pointer">
                WEB-02
              </div>
              
              <div class="absolute top-[430px] left-[180px] w-[40px] h-[40px] bg-red-500 rounded-full flex items-center justify-center text-white text-xs transform -translate-x-1/2 -translate-y-1/2 cursor-pointer">
                APP-01
              </div>
              
              <div class="absolute top-[130px] left-[580px] w-[40px] h-[40px] bg-yellow-500 rounded-full flex items-center justify-center text-white text-xs transform -translate-x-1/2 -translate-y-1/2 cursor-pointer">
                STG-01
              </div>
              
              <div class="absolute top-[280px] left-[580px] w-[40px] h-[40px] bg-blue-500 rounded-full flex items-center justify-center text-white text-xs transform -translate-x-1/2 -translate-y-1/2 cursor-pointer">
                BKP-01
              </div>
              
              <div class="absolute top-[430px] left-[580px] w-[40px] h-[40px] bg-gray-400 rounded-full flex items-center justify-center text-white text-xs transform -translate-x-1/2 -translate-y-1/2 cursor-pointer">
                MON-01
              </div>
              
              <div class="absolute top-[80px] left-[730px] w-[40px] h-[40px] bg-blue-500 rounded-full flex items-center justify-center text-white text-xs transform -translate-x-1/2 -translate-y-1/2 cursor-pointer">
                STG-02
              </div>
              
              <div class="absolute top-[180px] left-[730px] w-[40px] h-[40px] bg-gray-400 rounded-full flex items-center justify-center text-white text-xs transform -translate-x-1/2 -translate-y-1/2 cursor-pointer">
                STG-03
              </div>
              
              <div class="absolute top-[80px] left-[30px] w-[40px] h-[40px] bg-yellow-500 rounded-full flex items-center justify-center text-white text-xs transform -translate-x-1/2 -translate-y-1/2 cursor-pointer">
                LB-01
              </div>
              
              <div class="absolute top-[180px] left-[30px] w-[40px] h-[40px] bg-blue-500 rounded-full flex items-center justify-center text-white text-xs transform -translate-x-1/2 -translate-y-1/2 cursor-pointer">
                FW-01
              </div>
              
              <!-- ノード詳細情報（選択時に表示） -->
              <div class="absolute top-[230px] left-[480px] w-[300px] bg-white border border-gray-200 rounded shadow-lg p-4 z-20">
                <div class="flex items-center justify-between mb-3">
                  <h3 class="font-medium">プライマリDBサーバー (DB-01)</h3>
                  <button class="text-gray-400 hover:text-gray-600">
                    <div class="w-5 h-5 flex items-center justify-center">
                      <i class="ri-close-line"></i>
                    </div>
                  </button>
                </div>
                <div class="space-y-2 text-sm">
                  <div class="flex justify-between">
                    <span class="text-gray-600">タイプ:</span>
                    <span>データベースサーバー</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-gray-600">ステータス:</span>
                    <span class="text-green-600">アクティブ</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-gray-600">重要度:</span>
                    <span class="text-red-600">最重要</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-gray-600">所有者:</span>
                    <span>DBチーム</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-gray-600">最終更新:</span>
                    <span>2025/04/28</span>
                  </div>
                </div>
                <div class="mt-4 pt-3 border-t border-gray-200">
                  <h4 class="text-sm font-medium mb-2">関連アイテム (6)</h4>
                  <div class="space-y-1 text-xs">
                    <div class="flex justify-between">
                      <span>WEB-01</span>
                      <span class="text-gray-500">依存関係</span>
                    </div>
                    <div class="flex justify-between">
                      <span>WEB-02</span>
                      <span class="text-gray-500">依存関係</span>
                    </div>
                    <div class="flex justify-between">
                      <span>APP-01</span>
                      <span class="text-gray-500">依存関係</span>
                    </div>
                    <div class="flex justify-between">
                      <span>STG-01</span>
                      <span class="text-gray-500">使用関係</span>
                    </div>
                    <div class="flex justify-between">
                      <span>BKP-01</span>
                      <span class="text-gray-500">バックアップ</span>
                    </div>
                    <div class="flex justify-between">
                      <span>MON-01</span>
                      <span class="text-gray-500">監視対象</span>
                    </div>
                  </div>
                </div>
                <div class="mt-4 flex justify-end space-x-2">
                  <button class="px-3 py-1 bg-gray-100 text-gray-700 rounded text-xs hover:bg-gray-200 !rounded-button">詳細</button>
                  <button class="px-3 py-1 bg-primary text-white rounded text-xs hover:bg-blue-600 !rounded-button">編集</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 変更履歴タブコンテンツ -->
        <div id="content-history" class="space-y-6 hidden">
          <div class="bg-white rounded shadow p-4">
            <div class="flex flex-wrap items-center gap-4">
              <div class="flex-1 min-w-[200px]">
                <div class="relative">
                  <input type="text" placeholder="変更内容を検索..." class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                  <div class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">
                    <div class="w-4 h-4 flex items-center justify-center">
                      <i class="ri-search-line"></i>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="flex items-center gap-4">
                <div class="relative">
                  <button class="flex items-center px-3 py-2 border border-gray-300 rounded text-sm bg-white !rounded-button">
                    <span>変更タイプ</span>
                    <div class="w-4 h-4 flex items-center justify-center ml-2">
                      <i class="ri-arrow-down-s-line"></i>
                    </div>
                  </button>
                </div>
                
                <div class="relative">
                  <button class="flex items-center px-3 py-2 border border-gray-300 rounded text-sm bg-white !rounded-button">
                    <span>変更者</span>
                    <div class="w-4 h-4 flex items-center justify-center ml-2">
                      <i class="ri-arrow-down-s-line"></i>
                    </div>
                  </button>
                </div>
                
                <div class="relative">
                  <button class="flex items-center px-3 py-2 border border-gray-300 rounded text-sm bg-white !rounded-button">
                    <span>期間</span>
                    <div class="w-4 h-4 flex items-center justify-center ml-2">
                      <i class="ri-arrow-down-s-line"></i>
                    </div>
                  </button>
                </div>
                
                <button class="px-3 py-2 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200 !rounded-button">
                  <div class="flex items-center">
                    <div class="w-4 h-4 flex items-center justify-center mr-1">
                      <i class="ri-refresh-line"></i>
                    </div>
                    <span>リセット</span>
                  </div>
                </button>
              </div>
              
              <button class="px-4 py-2 bg-primary text-white rounded text-sm hover:bg-blue-600 ml-auto !rounded-button">
                <div class="flex items-center">
                  <div class="w-4 h-4 flex items-center justify-center mr-1">
                    <i class="ri-download-line"></i>
                  </div>
                  <span>エクスポート</span>
                </div>
              </button>
            </div>
          </div>
          
          <!-- 変更履歴タイムライン -->
          <div class="bg-white rounded shadow">
            <div class="px-5 py-4 border-b border-gray-200">
              <h2 class="text-lg font-medium">変更履歴</h2>
            </div>
            <div class="p-5">
              <div class="space-y-8">
                <!-- 日付グループ -->
                <div>
                  <h3 class="text-sm font-medium text-gray-500 mb-4">2025年05月10日 (今日)</h3>
                  
                  <div class="relative pl-8 pb-8 border-l-2 border-gray-200">
                    <div class="absolute left-[-8px] top-0 w-4 h-4 bg-blue-500 rounded-full border-2 border-white"></div>
                    <div class="bg-blue-50 rounded p-4">
                      <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center">
                          <div class="w-5 h-5 flex items-center justify-center text-blue-600 mr-2">
                            <i class="ri-add-line"></i>
                          </div>
                          <span class="font-medium">新規サーバー追加</span>
                        </div>
                        <span class="text-xs text-gray-500">14:30</span>
                      </div>
                      <p class="text-sm text-gray-600 mb-3">
                        データベースサーバー (DB-SRV-12) が追加されました。Oracle Database 19c がインストールされています。
                      </p>
                      <div class="flex items-center justify-between text-xs">
                        <div class="flex items-center">
                          <div class="w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center mr-2">
                            <span class="text-gray-700">山</span>
                          </div>
                          <span class="text-gray-600">山田 太郎</span>
                        </div>
                        <button class="text-primary hover:text-primary-dark !rounded-button">詳細を表示</button>
                      </div>
                    </div>
                  </div>
                  
                  <div class="relative pl-8 pb-8 border-l-2 border-gray-200">
                    <div class="absolute left-[-8px] top-0 w-4 h-4 bg-green-500 rounded-full border-2 border-white"></div>
                    <div class="bg-green-50 rounded p-4">
                      <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center">
                          <div class="w-5 h-5 flex items-center justify-center text-green-600 mr-2">
                            <i class="ri-link"></i>
                          </div>
                          <span class="font-medium">関連付け更新</span>
                        </div>
                        <span class="text-xs text-gray-500">11:15</span>
                      </div>
                      <p class="text-sm text-gray-600 mb-3">
                        新規データベースサーバー (DB-SRV-12) とアプリケーションサーバー (APP-SRV-05) の関連付けが作成されました。
                      </p>
                      <div class="flex items-center justify-between text-xs">
                        <div class="flex items-center">
                          <div class="w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center mr-2">
                            <span class="text-gray-700">佐</span>
                          </div>
                          <span class="text-gray-600">佐藤 健太</span>
                        </div>
                        <button class="text-primary hover:text-primary-dark !rounded-button">詳細を表示</button>
                      </div>
                    </div>
                  </div>
                  
                  <div class="relative pl-8 pb-8 border-l-2 border-gray-200">
                    <div class="absolute left-[-8px] top-0 w-4 h-4 bg-purple-500 rounded-full border-2 border-white"></div>
                    <div class="bg-purple-50 rounded p-4">
                      <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center">
                          <div class="w-5 h-5 flex items-center justify-center text-purple-600 mr-2">
                            <i class="ri-file-list-line"></i>
                          </div>
                          <span class="font-medium">ドキュメント更新</span>
                        </div>
                        <span class="text-xs text-gray-500">09:45</span>
                      </div>
                      <p class="text-sm text-gray-600 mb-3">
                        ネットワーク構成図が更新されました。新規ファイアウォール設定が反映されています。
                      </p>
                      <div class="flex items-center justify-between text-xs">
                        <div class="flex items-center">
                          <div class="w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center mr-2">
                            <span class="text-gray-700">高</span>
                          </div>
                          <span class="text-gray-600">高橋 真理</span>
                        </div>
                        <button class="text-primary hover:text-primary-dark !rounded-button">詳細を表示</button>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- 日付グループ -->
                <div>
                  <h3 class="text-sm font-medium text-gray-500 mb-4">2025年05月09日 (昨日)</h3>
                  
                  <div class="relative pl-8 pb-8 border-l-2 border-gray-200">
                    <div class="absolute left-[-8px] top-0 w-4 h-4 bg-yellow-500 rounded-full border-2 border-white"></div>
                    <div class="bg-yellow-50 rounded p-4">
                      <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center">
                          <div class="w-5 h-5 flex items-center justify-center text-yellow-600 mr-2">
                            <i class="ri-edit-line"></i>
                          </div>
                          <span class="font-medium">ファイアウォール設定変更</span>
                        </div>
                        <span class="text-xs text-gray-500">16:20</span>
                      </div>
                      <p class="text-sm text-gray-600 mb-3">
                        ファイアウォール (FW-001) の設定が変更されました。新規セキュリティポリシーが適用されています。
                      </p>
                      <div class="flex items-center justify-between text-xs">
                        <div class="flex items-center">
                          <div class="w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center mr-2">
                            <span class="text-gray-700">鈴</span>
                          </div>
                          <span class="text-gray-600">鈴木 一郎</span>
                        </div>
                        <button class="text-primary hover:text-primary-dark !rounded-button">詳細を表示</button>
                      </div>
                    </div>
                  </div>
                  
                  <div class="relative pl-8 pb-8 border-l-2 border-gray-200">
                    <div class="absolute left-[-8px] top-0 w-4 h-4 bg-yellow-500 rounded-full border-2 border-white"></div>
                    <div class="bg-yellow-50 rounded p-4">
                      <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center">
                          <div class="w-5 h-5 flex items-center justify-center text-yellow-600 mr-2">
                            <i class="ri-edit-line"></i>
                          </div>
                          <span class="font-medium">ネットワーク機器設定変更</span>
                        </div>
                        <span class="text-xs text-gray-500">14:30</span>
                      </div>
                      <p class="text-sm text-gray-600 mb-3">
                        コアスイッチ (NW-SW-03) のファームウェアがバージョン 15.2(4)E7 にアップデートされました。
                      </p>
                      <div class="flex items-center justify-between text-xs">
                        <div class="flex items-center">
                          <div class="w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center mr-2">
                            <span class="text-gray-700">鈴</span>
                          </div>
                          <span class="text-gray-600">鈴木 一郎</span>
                        </div>
                        <button class="text-primary hover:text-primary-dark !rounded-button">詳細を表示</button>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- 日付グループ -->
                <div>
                  <h3 class="text-sm font-medium text-gray-500 mb-4">2025年05月08日</h3>
                  
                  <div class="relative pl-8 pb-8 border-l-2 border-gray-200">
                    <div class="absolute left-[-8px] top-0 w-4 h-4 bg-red-500 rounded-full border-2 border-white"></div>
                    <div class="bg-red-50 rounded p-4">
                      <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center">
                          <div class="w-5 h-5 flex items-center justify-center text-red-600 mr-2">
                            <i class="ri-delete-bin-line"></i>
                          </div>
                          <span class="font-medium">資産廃棄</span>
                        </div>
                        <span class="text-xs text-gray-500">11:45</span>
                      </div>
                      <p class="text-sm text-gray-600 mb-3">
                        旧ファイルサーバー (FS-SRV-02) が廃棄処理されました。データは新サーバーに移行済みです。
                      </p>
                      <div class="flex items-center justify-between text-xs">
                        <div class="flex items-center">
                          <div class="w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center mr-2">
                            <span class="text-gray-700">高</span>
                          </div>
                          <span class="text-gray-600">高橋 真理</span>
                        </div>
                        <button class="text-primary hover:text-primary-dark !rounded-button">詳細を表示</button>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- もっと見るボタン -->
                <div class="flex justify-center">
                  <button class="px-4 py-2 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 !rounded-button">
                    <div class="flex items-center">
                      <span>もっと見る</span>
                      <div class="w-4 h-4 flex items-center justify-center ml-1">
                        <i class="ri-arrow-down-s-line"></i>
                      </div>
                    </div>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>

<!-- 新規CI登録モーダル（非表示） -->
<div id="new-ci-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
  <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto">
    <div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between">
      <h3 class="text-lg font-medium">新規構成アイテム登録</h3>
      <button id="close-modal" class="text-gray-400 hover:text-gray-600">
        <div class="w-6 h-6 flex items-center justify-center">
          <i class="ri-close-line"></i>
        </div>
      </button>
    </div>
    <div class="px-6 py-4">
      <form>
        <div class="space-y-4">
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">CI ID</label>
              <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="自動生成" disabled>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">名称 <span class="text-red-600">*</span></label>
              <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required>
            </div>
          </div>
          
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">タイプ <span class="text-red-600">*</span></label>
              <select class="w-full px-3 py-2 border border-gray-300 rounded text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required>
                <option value="">選択してください</option>
                <option>サーバー</option>
                <option>ネットワーク機器</option>
                <option>ストレージ</option>
                <option>クライアント端末</option>
                <option>ソフトウェア</option>
                <option>その他</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">サブタイプ</label>
              <select class="w-full px-3 py-2 border border-gray-300 rounded text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                <option value="">選択してください</option>
                <option>物理サーバー</option>
                <option>仮想サーバー</option>
                <option>コンテナ</option>
              </select>
            </div>
          </div>
          
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">ステータス <span class="text-red-600">*</span></label>
              <select class="w-full px-3 py-2 border border-gray-300 rounded text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required>
                <option>アクティブ</option>
                <option>メンテナンス中</option>
                <option>非アクティブ</option>
                <option>廃止予定</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">重要度 <span class="text-red-600">*</span></label>
              <select class="w-full px-3 py-2 border border-gray-300 rounded text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required>
                <option>最重要</option>
                <option>高</option>
                <option>中</option>
                <option>低</option>
              </select>
            </div>
          </div>
          
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">所有者 <span class="text-red-600">*</span></label>
            <select class="w-full px-3 py-2 border border-gray-300 rounded text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" required>
              <option>インフラチーム</option>
              <option>DBチーム</option>
              <option>ネットワークチーム</option>
              <option>セキュリティチーム</option>
              <option>経営企画部</option>
              <option>財務部</option>
              <option>人事部</option>
            </select>
          </div>
          
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">説明</label>
            <textarea class="w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" rows="3"></textarea>
          </div>
          
          <div class="border-t border-gray-200 pt-4">
            <h4 class="text-sm font-medium mb-2">属性情報</h4>
            <div class="space-y-3">
              <div class="grid grid-cols-3 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">メーカー</label>
                  <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">モデル</label>
                  <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">シリアル番号</label>
                  <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                </div>
              </div>
              
              <div class="grid grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">購入日</label>
                  <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">保守期限</label>
                  <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                </div>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">設置場所</label>
                <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
              </div>
            </div>
          </div>
          
          <div class="border-t border-gray-200 pt-4">
            <h4 class="text-sm font-medium mb-2">関連アイテム</h4>
            <div class="space-y-3">
              <div class="flex items-center">
                <select class="flex-1 px-3 py-2 border border-gray-300 rounded-l text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                  <option value="">CI を選択...</option>
                  <option>CI-SRV-001: プライマリWebサーバー</option>
                  <option>CI-SRV-002: セカンダリWebサーバー</option>
                  <option>CI-DB-001: プライマリDBサーバー</option>
                  <option>CI-NW-001: コアスイッチ</option>
                </select>
                <select class="w-40 px-3 py-2 border-t border-b border-r border-gray-300 rounded-r text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                  <option>依存関係</option>
                  <option>通信関係</option>
                  <option>包含関係</option>
                  <option>その他</option>
                </select>
                <button type="button" class="ml-2 p-2 bg-gray-100 text-gray-600 rounded hover:bg-gray-200 !rounded-button">
                  <div class="w-5 h-5 flex items-center justify-center">
                    <i class="ri-add-line"></i>
                  </div>
                </button>
              </div>
              
              <div class="bg-gray-50 p-3 rounded">
                <div class="text-sm text-gray-500 text-center">
                  関連アイテムがありません。上記から追加してください。
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="mt-6 flex justify-end space-x-3">
          <button type="button" class="px-4 py-2 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 !rounded-button">キャンセル</button>
          <button type="submit" class="px-4 py-2 bg-primary text-white rounded text-sm hover:bg-blue-600 !rounded-button">登録</button>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // 現在時刻の更新
  function updateTime() {
    const now = new Date();
    const options = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
    document.getElementById('current-time').textContent = now.toLocaleTimeString('ja-JP', options);
  }
  updateTime();
  setInterval(updateTime, 1000);
  
  // 資産タイプ別分布チャート
  const assetTypeChart = echarts.init(document.getElementById('asset-type-chart'));
  const assetTypeOption = {
    animation: false,
    tooltip: {
      trigger: 'item',
      backgroundColor: 'rgba(255, 255, 255, 0.8)',
      textStyle: {
        color: '#1f2937'
      }
    },
    legend: {
      orient: 'vertical',
      right: 10,
      top: 'center',
      textStyle: {
        color: '#1f2937'
      }
    },
    series: [
      {
        name: '資産タイプ',
        type: 'pie',
        radius: ['40%', '70%'],
        avoidLabelOverlap: false,
        itemStyle: {
          borderRadius: 8,
          borderColor: '#fff',
          borderWidth: 2
        },
        label: {
          show: false
        },
        emphasis: {
          label: {
            show: false
          }
        },
        labelLine: {
          show: false
        },
        color: [
          'rgba(87, 181, 231, 1)',
          'rgba(141, 211, 199, 1)',
          'rgba(251, 191, 114, 1)',
          'rgba(252, 141, 98, 1)'
        ],
        data: [
          { value: 85, name: 'サーバー' },
          { value: 65, name: 'ネットワーク機器' },
          { value: 48, name: 'ストレージ' },
          { value: 50, name: 'クライアント端末' }
        ]
      }
    ]
  };
  assetTypeChart.setOption(assetTypeOption);
  
  // 重要度別分類チャート
  const importanceChart = echarts.init(document.getElementById('importance-chart'));
  const importanceOption = {
    animation: false,
    tooltip: {
      trigger: 'axis',
      backgroundColor: 'rgba(255, 255, 255, 0.8)',
      textStyle: {
        color: '#1f2937'
      }
    },
    grid: {
      left: '3%',
      right: '4%',
      bottom: '3%',
      top: '3%',
      containLabel: true
    },
    xAxis: {
      type: 'value',
      axisLine: {
        lineStyle: {
          color: '#d1d5db'
        }
      },
      axisLabel: {
        color: '#1f2937'
      }
    },
    yAxis: {
      type: 'category',
      data: ['低', '中', '高', '最重要'],
      axisLine: {
        lineStyle: {
          color: '#d1d5db'
        }
      },
      axisLabel: {
        color: '#1f2937'
      }
    },
    series: [
      {
        name: '資産数',
        type: 'bar',
        data: [72, 84, 50, 42],
        itemStyle: {
          borderRadius: 4,
          color: function(params) {
            const colors = [
              'rgba(87, 181, 231, 1)',
              'rgba(141, 211, 199, 1)',
              'rgba(251, 191, 114, 1)',
              'rgba(252, 141, 98, 1)'
            ];
            return colors[params.dataIndex];
          }
        },
        label: {
          show: true,
          position: 'right',
          formatter: '{c}',
          color: '#1f2937'
        }
      }
    ]
  };
  importanceChart.setOption(importanceOption);
  
  // タブ切り替え
  const tabs = ['dashboard', 'assets', 'relations', 'history'];
  tabs.forEach(tab => {
    document.getElementById(`tab-${tab}`).addEventListener('click', function() {
      // タブボタンのスタイル切り替え
      tabs.forEach(t => {
        const tabEl = document.getElementById(`tab-${t}`);
        const contentEl = document.getElementById(`content-${t}`);
        
        if (t === tab) {
          tabEl.classList.remove('text-gray-500', 'hover:text-gray-700', 'border-transparent', 'hover:border-gray-300');
          tabEl.classList.add('text-primary', 'border-primary');
          contentEl.classList.remove('hidden');
        } else {
          tabEl.classList.remove('text-primary', 'border-primary');
          tabEl.classList.add('text-gray-500', 'hover:text-gray-700', 'border-transparent', 'hover:border-gray-300');
          contentEl.classList.add('hidden');
        }
      });
      
      // チャートのリサイズ
      if (tab === 'dashboard') {
        assetTypeChart.resize();
        importanceChart.resize();
      }
    });
  });
  
  // ウィンドウリサイズ時にチャートをリサイズ
  window.addEventListener('resize', function() {
    assetTypeChart.resize();
    importanceChart.resize();
  });
});
</script>
</body>
</html>
